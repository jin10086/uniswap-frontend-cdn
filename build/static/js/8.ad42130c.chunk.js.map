{"version":3,"sources":["../node_modules/walletlink/dist/types/Web3Response.js","../node_modules/walletlink/dist/types/Web3ResponseMessage.js","../node_modules/walletlink/dist/walletLinkBlockedDialog.js","../node_modules/walletlink/dist/images/browserSvg.js","../node_modules/walletlink/dist/images/closeSvg.js","../node_modules/walletlink/dist/walletLinkBlockedDialogCss.js","../node_modules/walletlink/dist/index.js","../node_modules/walletlink/dist/types/IPCMessage.js","../node_modules/walletlink/node_modules/bn.js/lib/bn.js","../node_modules/walletlink/dist/WalletLinkProvider.js","../node_modules/walletlink/dist/util.js","../node_modules/walletlink/dist/WalletLink.js","../node_modules/walletlink/dist/WalletLinkNotification.js","../node_modules/bind-decorator/index.js","../node_modules/walletlink/dist/resetCss.js","../node_modules/walletlink/node_modules/eth-eip712-util/util.js","../node_modules/walletlink/dist/types/common.js","../node_modules/walletlink/dist/types/Web3Method.js","../node_modules/walletlink/dist/images/chevronSvg.js","../node_modules/walletlink/dist/WalletLinkNotificationCss.js","../node_modules/walletlink/node_modules/eth-eip712-util/index.js","../node_modules/walletlink/node_modules/keccak/js.js","../node_modules/walletlink/node_modules/keccak/lib/api/index.js","../node_modules/walletlink/node_modules/keccak/lib/api/keccak.js","../node_modules/walletlink/node_modules/keccak/lib/api/shake.js","../node_modules/walletlink/node_modules/keccak/lib/keccak.js","../node_modules/walletlink/node_modules/keccak/lib/keccak-state-unroll.js","../node_modules/walletlink/node_modules/eth-eip712-util/abi.js","../node_modules/walletlink/dist/FilterPolyfill.js","../node_modules/walletlink/dist/types/JSONRPC.js","../node_modules/walletlink/dist/types/Web3Provider.js","../node_modules/walletlink/dist/WalletLinkRelay.js","../node_modules/walletlink/dist/ScopedLocalStorage.js","../node_modules/walletlink/dist/types/LinkedMessage.js","../node_modules/walletlink/dist/types/LocalStorageBlockedMessage.js","../node_modules/walletlink/dist/types/SessionIdRequestMessage.js","../node_modules/walletlink/dist/types/SessionIdResponseMessage.js","../node_modules/walletlink/dist/types/UnlinkedMessage.js","../node_modules/walletlink/dist/types/Web3RequestCanceledMessage.js","../node_modules/walletlink/dist/types/Web3RequestMessage.js"],"names":["Object","defineProperty","exports","value","Web3Method_1","require","ErrorResponse","method","errorMessage","RequestEthereumAccountsResponse","addresses","Web3Method","requestEthereumAccounts","result","isRequestEthereumAccountsResponse","res","IPCMessage_1","Web3ResponseMessage","params","assign","type","IPCMessageType","WEB3_RESPONSE","isWeb3ResponseMessage","msg","__importDefault","this","mod","__esModule","browserSvg_1","closeSvg_1","walletLinkBlockedDialogCss_1","SELECTOR_PREFIX","classNames","backdrop","box","close","image","title","text","button","hide","wrapperEl","document","querySelector","closeEl","removeEventListener","handleClickClose","buttonEl","handleClickButton","parentNode","removeChild","evt","preventDefault","window","open","show","createElement","id","boxEl","className","appendChild","styleEl","createTextNode","default","closeImageEl","src","alt","addEventListener","imgEl","h3El","pEl","pEl2","documentElement","resetCss_1","WalletLink_1","WalletLinkProvider_1","WalletLink_2","WalletLink","WalletLinkProvider_2","WalletLinkProvider","module","assert","val","Error","inherits","ctor","superCtor","super_","TempCtor","prototype","constructor","BN","number","base","endian","isBN","negative","words","length","red","_init","Buffer","wordSize","e","parseHex","str","start","end","r","len","Math","min","z","i","b","c","charCodeAt","parseBase","mul","move","dest","inspect","toString","num","Array","isArray","max","left","right","cmp","_initNumber","_initArray","replace","_parseHex","_parseBase","_strip","toArray","ceil","j","w","off","limbLen","limbPow","total","word","imuln","_iaddn","pow","copy","_move","clone","_expand","size","_normSign","Symbol","for","zeros","groupSizes","groupBases","padding","out","carry","groupSize","groupBase","isZero","modrn","idivn","toNumber","ret","toJSON","toBuffer","toArrayLike","smallMulTo","self","a","lo","k","ncarry","rword","maxJ","ArrayType","byteLength","reqLength","allocUnsafe","allocate","_toArrayLikeLE","position","shift","_toArrayLikeBE","clz32","_countBits","t","_zeroBits","bitLength","hi","zeroBits","toTwos","width","abs","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","bit","wbit","iadd","isub","add","sub","comb10MulTo","mid","o","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","bigMulTo","hncarry","jumboMulTo","FFTM","x","y","mulTo","makeRBT","N","l","revBin","rb","permute","rbt","rws","iws","rtws","itws","transform","s","rtwdf","cos","PI","itwdf","sin","p","rtwdf_","itwdf_","re","ie","ro","io","rx","guessLen13b","n","m","odd","conjugate","normalize13b","ws","round","convert13b","stub","ph","mulp","_","rwst","iwst","nrws","nrwst","niwst","rmws","mulf","isNegNum","muln","sqr","isqr","toBitArray","q","iushln","bits","carryMask","newCarry","ishln","iushrn","hint","extended","h","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","_wordDiv","mode","bhi","diff","qj","div","divmod","positive","divn","umod","divRound","dm","half","r2","andln","acc","modn","egcd","A","B","C","D","g","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lt","lten","lte","eqn","eq","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","name","tmp","_tmp","K256","call","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","split","imulK","input","output","outLen","prev","next","mod3","one","nOne","lpow","inv","wnd","current","currentLen","mont","u","bn_js_1","eth_eip712_util_1","events_1","FilterPolyfill_1","JSONRPC_1","Web3Provider_1","util_1","LOCAL_STORAGE_ADDRESSES_KEY","options","_filterPolyfill","FilterPolyfill","_addresses","_send","send","_sendAsync","sendAsync","relay","jsonRpcUrl","_relay","_chainId","ensureIntNumber","chainId","_jsonRpcUrl","cahedAddresses","getStorageItem","JSONRPCMethod","eth_requestAccounts","requestOrMethod","callbackOrParams","request","jsonrpc","undefined","_sendRequestAsync","then","callback","map","_sendRequest","req","arrayCb","_sendMultipleRequestsAsync","responses","catch","err","cb","response","match","scanQRCode","ensureRegExpString","data","arbitraryRequest","_handleSynchronousMethods","address","ensureAddressString","setStorageItem","join","emit","Promise","resolve","reject","syncResult","filterPromise","_handleAsynchronousFilterMethods","_handleAsynchronousMethods","requests","all","eth_accounts","_eth_accounts","eth_coinbase","_eth_coinbase","eth_uninstallFilter","_eth_uninstallFilter","net_version","_net_version","_eth_requestAccounts","eth_sign","_eth_sign","eth_ecRecover","_eth_ecRecover","personal_sign","_personal_sign","personal_ecRecover","_personal_ecRecover","eth_signTransaction","_eth_signTransaction","eth_sendRawTransaction","_eth_sendRawTransaction","eth_sendTransaction","_eth_sendTransaction","eth_signTypedData_v1","_eth_signTypedData_v1","eth_signTypedData_v2","_throwUnsupportedMethodError","eth_signTypedData_v3","_eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","_eth_signTypedData_v4","walletlink_arbitrary","_walletlink_arbitrary","fetch","body","JSON","stringify","headers","json","ProviderError","error","message","code","eth_newFilter","_eth_newFilter","eth_newBlockFilter","_eth_newBlockFilter","eth_newPendingTransactionFilter","_eth_newPendingTransactionFilter","eth_getFilterChanges","_eth_getFilterChanges","eth_getFilterLogs","_eth_getFilterLogs","addressString","includes","_a","_isKnownAddress","tx","fromAddress","from","selectedAddress","_ensureKnownAddress","toAddress","to","weiValue","ensureBN","ensureBuffer","alloc","nonce","gasPriceInWei","gasPrice","gasLimit","gas","ProviderErrorCode","UNAUTHORIZED","UNSUPPORTED_METHOD","addPrefix","typedDataJson","signEthereumMessage","USER_DENIED_REQUEST_SIGNATURE","signature","ethereumAddressFromSignedMessage","USER_DENIED_REQUEST_ACCOUNTS","_setAddresses","_requireAuthorization","_signEthereumMessage","_ethereumAddressFromSignedMessage","_prepareTransactionParams","signEthereumTransaction","signedTransaction","submitEthereumTransaction","signAndSubmitEthereumTransaction","typedData","hashForSignTypedDataLegacy","hashForSignTypedData_v3","hashForSignTypedData_v4","filterId","ensureHexString","uninstallFilter","param","newFilter","newBlockFilter","newPendingTransactionFilter","getFilterChanges","getFilterLogs","EventEmitter","common_1","INT_STRING_REGEX","HEXADECIMAL_STRING_REGEX","has0xPrefix","startsWith","strip0x","hex","slice","prepend0x","isHexString","toLowerCase","test","includePrefix","HexString","ensureEvenLengthHexString","Number","isInteger","IntNumber","isBigNumber","config","EUCLID","hexStringFromBuffer","buf","bigIntStringFromBN","bn","BigIntString","intNumberFromHexString","hexStringFromIntNumber","AddressString","isBuffer","regExp","RegExp","RegExpString","range","stop","WalletLinkNotification_1","WalletLinkRelay_1","WALLETLINK_URL","process","WALLETLINK_VERSION","version","_appName","_appLogoUrl","WalletLinkRelay","walletLinkUrl","setAppInfo","appName","appLogoUrl","WalletLinkNotification","injectContainer","injectIframe","el","location","protocol","host","href","getAttribute","getFavicon","VERSION","__decorate","decorators","target","key","desc","d","arguments","getOwnPropertyDescriptor","Reflect","decorate","bind_decorator_1","chevronSvg_1","WalletLinkNotificationCss_1","buttonInfoElClassName","buttonElClassName","autoExpandTimer","_expanded","showProgressBar","autoExpandAfter","buttonInfo1","buttonInfo2","buttonInfo3","buttonLabel1","buttonLabel2","buttonLabel3","onClickButton1","onClickButton2","onClickButton3","contentEl","messageEl","chevronEl","handleClick","progressBarEl","actionsEl","actionEl","infoEl","classList","containerEl","button1El","$","handleClickButton1","button2El","handleClickButton2","button3El","handleClickButton3","setTimeout","expanded","selector","clearTimeout","remove","constants","bind","propertyKey","descriptor","typeOfFunction","TypeError","configurable","boolTrue","get","bound","writable","createKeccakHash","bytes","fill","setLength","v","stripHexPrefix","intToBuffer","setLengthRight","bufferToHex","keccak","update","digest","OpaqueType","IdNumber","util","abi","TYPED_MESSAGE_SCHEMA","properties","types","additionalProperties","items","required","primaryType","domain","TypedDataUtils","encodeData","useV4","encodedTypes","encodedValues","hashType","encodeField","lastIndexOf","parsedType","typeValuePairs","item","rawEncode","field","push","encodeType","deps","findTypeDependencies","filter","dep","concat","sort","results","hashStruct","sanitizeData","sanitizedData","EIP712Domain","hash","parts","msgParams","schema","soliditySHA3","typedSignatureHashLegacy","createKeccak","createShake","KeccakState","Keccak","Shake","algorithm","Transform","rate","capacity","delimitedSuffix","hashBitLength","_rate","_capacity","_delimitedSuffix","_hashBitLength","_options","_state","initialize","_finalized","_transform","chunk","encoding","_flush","absorb","absorbLastFewBits","squeeze","_resetState","_clone","_read","dataByteLength","keccakState","state","blockSize","count","squeezing","p1600","P1600_ROUND_CONSTANTS","lo0","hi0","lo1","hi1","lo2","hi2","lo3","hi3","lo4","hi4","t1slo0","t1shi0","t1slo5","t1shi5","t1slo10","t1shi10","t1slo15","t1shi15","t1slo20","t1shi20","t1slo1","t1shi1","t1slo6","t1shi6","t1slo11","t1shi11","t1slo16","t1shi16","t1slo21","t1shi21","t1slo2","t1shi2","t1slo7","t1shi7","t1slo12","t1shi12","t1slo17","t1shi17","t1slo22","t1shi22","t1slo3","t1shi3","t1slo8","t1shi8","t1slo13","t1shi13","t1slo18","t1shi18","t1slo23","t1shi23","t1slo4","t1shi4","t1slo9","t1shi9","t1slo14","t1shi14","t1slo19","t1shi19","t1slo24","t1shi24","t2slo0","t2shi0","t2slo16","t2shi16","t2slo7","t2shi7","t2slo23","t2shi23","t2slo14","t2shi14","t2slo10","t2shi10","t2slo1","t2shi1","t2slo17","t2shi17","t2slo8","t2shi8","t2slo24","t2shi24","t2slo20","t2shi20","t2slo11","t2shi11","t2slo2","t2shi2","t2slo18","t2shi18","t2slo9","t2shi9","t2slo5","t2shi5","t2slo21","t2shi21","t2slo12","t2shi12","t2slo3","t2shi3","t2slo19","t2shi19","t2slo15","t2shi15","t2slo6","t2shi6","t2slo22","t2shi22","t2slo13","t2shi13","t2slo4","t2shi4","elementaryName","parseTypeN","parseInt","exec","parseTypeNxM","parseTypeArray","parseNumber","arg","encodeSingle","parse","unshift","isDynamic","solidityPack","values","headLength","cur","JSONRPC_TEMPLATE","provider","logFilters","Map","blockFilters","Set","pendingTransactionFilters","cursors","timeouts","nextFilterId","filterFromParam","makeFilterId","setInitialCursorPosition","fromBlock","cursor","console","log","set","setFilterTimeout","deleteFilter","has","getLogFilterChanges","getBlockFilterChanges","getPendingTransactionFilterChanges","filterNotFoundError","sendAsyncPromise","paramFromFilter","delete","cursorPosition","getCurrentBlockHeight","currentBlockHeight","toBlock","emptyResult","blocks","blockNumber","highestBlock","newCursorPosition","getBlockHashByNumber","_id","startBlock","initialCursorPosition","existing","timeout","intBlockHeightFromHexBlockHeight","topics","hexBlockHeightFromIntBlockHeight","setPrototypeOf","__importStar","hasOwnProperty","crypto_1","url_1","ScopedLocalStorage_1","LinkedMessage_1","LocalStorageBlockedMessage_1","SessionIdRequestMessage_1","SessionIdResponseMessage_1","UnlinkedMessage_1","Web3RequestCanceledMessage_1","Web3RequestMessage_1","Web3Response_1","Web3ResponseMessage_1","walletLinkBlockedDialog","LOCAL_STORAGE_SESSION_ID_KEY","BLOCKED_LOCAL_STORAGE_ERROR_MESSAGE","iframeEl","popupUrl","popupWindow","sessionId","linked","iframeLoaded","localStorageBlocked","actionsPendingIframeLoad","actionsPendingSessionId","walletLinkOrigin","storage","ScopedLocalStorage","height","style","opacity","pointerEvents","top","setAttribute","handleMessage","handleBeforeUnload","onIframeLoad","postIPCMessage","SessionIdRequestMessage","forEach","action","getItem","setItem","sendRequest","shouldSubmit","arbitrary","contentWindow","randomBytes","Web3RequestCanceledMessage","invokeCallback","notification","isRequestAccounts","showPopup","openPopupWindow","accountRequestCallbackIds","callbacks","closePopupWindow","Web3RequestMessage","postMessage","path","opener","focus","floor","outerWidth","screenX","outerHeight","screenY","clear","reload","origin","isSessionIdResponseMessage","resetAndReload","isLinkedMessage","isUnlinkedMessage","isLocalStorageBlockedMessage","_evt","scope","localStorage","scopedKey","removeItem","prefix","keysToRemove","LINKED","LOCAL_STORAGE_BLOCKED","SESSION_ID_REQUEST","SESSION_ID_RESPONSE","UNLINKED","WEB3_REQUEST_CANCELED","WEB3_REQUEST"],"mappings":"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","file":"static/js/8.ad42130c.chunk.js","sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Web3Method_1 = require(\"./Web3Method\");\nfunction ErrorResponse(method, errorMessage) {\n    return { method, errorMessage };\n}\nexports.ErrorResponse = ErrorResponse;\nfunction RequestEthereumAccountsResponse(addresses) {\n    return { method: Web3Method_1.Web3Method.requestEthereumAccounts, result: addresses };\n}\nexports.RequestEthereumAccountsResponse = RequestEthereumAccountsResponse;\nfunction isRequestEthereumAccountsResponse(res) {\n    return res && res.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n}\nexports.isRequestEthereumAccountsResponse = isRequestEthereumAccountsResponse;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst IPCMessage_1 = require(\"./IPCMessage\");\nfunction Web3ResponseMessage(params) {\n    return Object.assign({ type: IPCMessage_1.IPCMessageType.WEB3_RESPONSE }, params);\n}\nexports.Web3ResponseMessage = Web3ResponseMessage;\nfunction isWeb3ResponseMessage(msg) {\n    return msg && msg.type === IPCMessage_1.IPCMessageType.WEB3_RESPONSE;\n}\nexports.isWeb3ResponseMessage = isWeb3ResponseMessage;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst browserSvg_1 = __importDefault(require(\"./images/browserSvg\"));\nconst closeSvg_1 = __importDefault(require(\"./images/closeSvg\"));\nconst walletLinkBlockedDialogCss_1 = __importDefault(require(\"./walletLinkBlockedDialogCss\"));\nconst SELECTOR_PREFIX = \"_WalletLinkBlockedDialog\";\nconst classNames = {\n    backdrop: `${SELECTOR_PREFIX}Backdrop`,\n    box: `${SELECTOR_PREFIX}Box`,\n    close: `${SELECTOR_PREFIX}Close`,\n    image: `${SELECTOR_PREFIX}Image`,\n    title: `${SELECTOR_PREFIX}Title`,\n    text: `${SELECTOR_PREFIX}Text`,\n    button: `${SELECTOR_PREFIX}Button`\n};\nfunction show() {\n    if (document.querySelector(`#${SELECTOR_PREFIX}`)) {\n        return;\n    }\n    const wrapperEl = document.createElement(\"div\");\n    wrapperEl.id = SELECTOR_PREFIX;\n    const boxEl = document.createElement(\"div\");\n    boxEl.className = classNames.box;\n    wrapperEl.appendChild(boxEl);\n    const styleEl = document.createElement(\"style\");\n    styleEl.type = \"text/css\";\n    styleEl.appendChild(document.createTextNode(walletLinkBlockedDialogCss_1.default));\n    boxEl.appendChild(styleEl);\n    const closeEl = document.createElement(\"button\");\n    closeEl.className = classNames.close;\n    const closeImageEl = document.createElement(\"img\");\n    closeImageEl.src = closeSvg_1.default;\n    closeImageEl.alt = \"Close\";\n    closeEl.appendChild(closeImageEl);\n    closeEl.addEventListener(\"click\", handleClickClose, false);\n    boxEl.appendChild(closeEl);\n    const imgEl = document.createElement(\"img\");\n    imgEl.className = classNames.image;\n    imgEl.src = browserSvg_1.default;\n    imgEl.alt = \"\";\n    boxEl.appendChild(imgEl);\n    const h3El = document.createElement(\"h3\");\n    h3El.className = classNames.title;\n    h3El.appendChild(document.createTextNode(\"Change settings to connect\"));\n    boxEl.appendChild(h3El);\n    const pEl = document.createElement(\"p\");\n    pEl.className = classNames.text;\n    pEl.appendChild(document.createTextNode(\"Your browser setting is blocking the connection to your wallet.\"));\n    boxEl.appendChild(pEl);\n    const pEl2 = document.createElement(\"p\");\n    pEl2.className = classNames.text;\n    pEl2.appendChild(document.createTextNode(\"To connect to your wallet app, please follow our whitelisting \" +\n        \"instructions. You only have to do this once.\"));\n    boxEl.appendChild(pEl2);\n    const buttonEl = document.createElement(\"button\");\n    buttonEl.className = classNames.button;\n    buttonEl.appendChild(document.createTextNode(\"See instructions\"));\n    buttonEl.addEventListener(\"click\", handleClickButton, false);\n    boxEl.appendChild(buttonEl);\n    document.documentElement.appendChild(wrapperEl);\n}\nexports.show = show;\nfunction hide() {\n    const wrapperEl = document.querySelector(`#${SELECTOR_PREFIX}`);\n    if (!wrapperEl) {\n        return;\n    }\n    const closeEl = document.querySelector(`#${SELECTOR_PREFIX} .${classNames.close}`);\n    if (closeEl) {\n        closeEl.removeEventListener(\"click\", handleClickClose, false);\n    }\n    const buttonEl = document.querySelector(`#${SELECTOR_PREFIX} .${classNames.button}`);\n    if (buttonEl) {\n        buttonEl.removeEventListener(\"click\", handleClickButton, false);\n    }\n    const { parentNode } = wrapperEl;\n    if (parentNode) {\n        parentNode.removeChild(wrapperEl);\n    }\n}\nexports.hide = hide;\nfunction handleClickClose(evt) {\n    evt.preventDefault();\n    hide();\n}\nfunction handleClickButton(evt) {\n    evt.preventDefault();\n    window.open(\"https://github.com/walletlink/walletlink/wiki/Browser-Troubleshooting\", \"_blank\");\n}\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM4IiBoZWlnaHQ9IjEwNiIgdmlld0JveD0iMCAwIDEzOCAxMDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2QpIj4KPHBhdGggZD0iTTggNUgxMzBDMTMxLjY2IDUgMTMzIDYuMzQgMTMzIDhWOThDMTMzIDk5LjY2IDEzMS42NiAxMDEgMTMwIDEwMUg4QzYuMzQgMTAxIDUgOTkuNjYgNSA5OFY4QzUgNi4zNCA2LjM0IDUgOCA1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggb3BhY2l0eT0iMC4yIiBkPSJNOSA4LjVDOS4yNzYxNCA4LjUgOS41IDguMjc2MTQgOS41IDhDOS41IDcuNzIzODYgOS4yNzYxNCA3LjUgOSA3LjVDOC43MjM4NiA3LjUgOC41IDcuNzIzODYgOC41IDhDOC41IDguMjc2MTQgOC43MjM4NiA4LjUgOSA4LjVaIiBmaWxsPSIjMTY1MkYwIi8+CjxwYXRoIG9wYWNpdHk9IjAuMiIgZD0iTTEyIDguNUMxMi4yNzYxIDguNSAxMi41IDguMjc2MTQgMTIuNSA4QzEyLjUgNy43MjM4NiAxMi4yNzYxIDcuNSAxMiA3LjVDMTEuNzIzOSA3LjUgMTEuNSA3LjcyMzg2IDExLjUgOEMxMS41IDguMjc2MTQgMTEuNzIzOSA4LjUgMTIgOC41WiIgZmlsbD0iIzE2NTJGMCIvPgo8cGF0aCBvcGFjaXR5PSIwLjIiIGQ9Ik0xNSA4LjVDMTUuMjc2MSA4LjUgMTUuNSA4LjI3NjE0IDE1LjUgOEMxNS41IDcuNzIzODYgMTUuMjc2MSA3LjUgMTUgNy41QzE0LjcyMzkgNy41IDE0LjUgNy43MjM4NiAxNC41IDhDMTQuNSA4LjI3NjE0IDE0LjcyMzkgOC41IDE1IDguNVoiIGZpbGw9IiMxNjUyRjAiLz4KPHBhdGggZD0iTTUgMTFWOThDNSA5OS42NiA2LjM0IDEwMSA4IDEwMUgxMzBDMTMxLjY2IDEwMSAxMzMgOTkuNjYgMTMzIDk4VjExSDVaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXIpIi8+CjxwYXRoIGQ9Ik0xMTcgMTFIMjFWMTAxSDExN1YxMVoiIGZpbGw9IiMxMTMzNTUiLz4KPHBhdGggZD0iTTk4IDQ4SDQwQzM4LjkgNDggMzggNDcuMSAzOCA0NlYxN0MzOCAxNS45IDM4LjkgMTUgNDAgMTVIOThDOTkuMSAxNSAxMDAgMTUuOSAxMDAgMTdWNDZDMTAwIDQ3LjEgOTkuMSA0OCA5OCA0OFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zOCAzNlY0NkMzOCA0Ny4xIDM4LjkgNDggNDAgNDhIOThDOTkuMSA0OCAxMDAgNDcuMSAxMDAgNDZWMzZIMzhaIiBmaWxsPSIjM0FDQzhBIi8+CjxwYXRoIGQ9Ik03MS40NzAzIDM5LjUzTDY3Ljk0MDMgNDMuMDZMNjYuNTMwMyA0MS42NUw2NS44MjAzIDQyLjM1TDY3Ljk0MDMgNDQuNDdMNzIuMTgwMyA0MC4yM0w3MS40NzAzIDM5LjUzWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggb3BhY2l0eT0iMC4yIiBkPSJNOTQgMjFINDRWMjNIOTRWMjFaIiBmaWxsPSIjMTY1MkYwIi8+CjxwYXRoIG9wYWNpdHk9IjAuMiIgZD0iTTQ5IDI5TDg5IDI5VjI3TDQ5IDI3VjI5WiIgZmlsbD0iIzE2NTJGMCIvPgo8L2c+CjxkZWZzPgo8ZmlsdGVyIGlkPSJmaWx0ZXIwX2QiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMzgiIGhlaWdodD0iMTA2IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+CjxmZU9mZnNldC8+CjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIuNSIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwLjA4NjI3NDUgMCAwIDAgMCAwLjMyMTU2OSAwIDAgMCAwIDAuOTQxMTc2IDAgMCAwIDAuMiAwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXIiIHgxPSI2OSIgeTE9IjEwMC4zMzMiIHgyPSI2OSIgeTI9IjExLjY2NjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzk5RDZGRiIgc3RvcC1vcGFjaXR5PSIwIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzE2NTJGMCIgc3RvcC1vcGFjaXR5PSIwLjE1Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==`;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iNCIgeT0iMTguNjA4OCIgd2lkdGg9IjIwLjY2MDEiIGhlaWdodD0iMS45Njc2MyIgcng9IjAuOTgzODEzIiB0cmFuc2Zvcm09InJvdGF0ZSgtNDUgNCAxOC42MDg4KSIgZmlsbD0iI0FBQUFBQSIvPgo8cmVjdCB4PSIxOC42MDk0IiB5PSIyMC4wMDAxIiB3aWR0aD0iMjAuNjYwMSIgaGVpZ2h0PSIxLjk2NzYzIiByeD0iMC45ODM4MTMiIHRyYW5zZm9ybT0icm90YXRlKC0xMzUgMTguNjA5NCAyMC4wMDAxKSIgZmlsbD0iI0FBQUFBQSIvPgo8L3N2Zz4K`;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resetCss_1 = __importDefault(require(\"./resetCss\"));\nexports.default = `\n#_WalletLinkBlockedDialog,\n#_WalletLinkBlockedDialog * {\n  ${resetCss_1.default}\n}\n\n#_WalletLinkBlockedDialog * {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Helvetica Neue\",\n    Arial, sans-serif;\n  box-sizing: border-box;\n}\n\n#_WalletLinkBlockedDialog {\n  position: fixed;\n  z-index: 2147483647;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, .8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#_WalletLinkBlockedDialog style {\n  display: none;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogBox {\n  position: relative;\n  width: 320px;\n  background: white;\n  color: #050f19;\n  padding: 24px;\n  text-align: center;\n  border-radius: 16px;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogClose {\n  position: absolute;\n  top: 22px;\n  left: 22px;\n  transition: opacity 0.25s;\n  cursor: pointer;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogClose:active {\n  opacity: 0.6;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogImage {\n  margin-top: 32px;\n  margin-bottom: 32px;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogTitle {\n  display: block;\n  margin-bottom: 16px;\n  font-size: 20px;\n  font-weight: bold;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogText {\n  display: block;\n  font-size: 13px;\n  margin-bottom: 16px;\n  opacity: .8;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogButton {\n  display: block;\n  width: 100%;\n  margin-top: 24px;\n  padding: 16px;\n  background-color: #050f19;\n  border-radius: 16px;\n  color: white !important;\n  font-size: 16px;\n  cursor: pointer;\n  transition: opacity 0.25s;\n  -webkit-appearance: none;\n  -webkit-text-fill-color: white;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogButton:active {\n  opacity: 0.6;\n}\n`;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst WalletLink_1 = require(\"./WalletLink\");\nconst WalletLinkProvider_1 = require(\"./WalletLinkProvider\");\nvar WalletLink_2 = require(\"./WalletLink\");\nexports.WalletLink = WalletLink_2.WalletLink;\nvar WalletLinkProvider_2 = require(\"./WalletLinkProvider\");\nexports.WalletLinkProvider = WalletLinkProvider_2.WalletLinkProvider;\nexports.default = WalletLink_1.WalletLink;\nif (typeof window !== \"undefined\") {\n    window.WalletLink = WalletLink_1.WalletLink;\n    window.WalletLinkProvider = WalletLinkProvider_1.WalletLinkProvider;\n}\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar IPCMessageType;\n(function (IPCMessageType) {\n    IPCMessageType[\"SESSION_ID_REQUEST\"] = \"SESSION_ID_REQUEST\";\n    IPCMessageType[\"SESSION_ID_RESPONSE\"] = \"SESSION_ID_RESPONSE\";\n    IPCMessageType[\"LINKED\"] = \"LINKED\";\n    IPCMessageType[\"UNLINKED\"] = \"UNLINKED\";\n    IPCMessageType[\"WEB3_REQUEST\"] = \"WEB3_REQUEST\";\n    IPCMessageType[\"WEB3_REQUEST_CANCELED\"] = \"WEB3_REQUEST_CANCELED\";\n    IPCMessageType[\"WEB3_RESPONSE\"] = \"WEB3_RESPONSE\";\n    IPCMessageType[\"LOCAL_STORAGE_BLOCKED\"] = \"LOCAL_STORAGE_BLOCKED\";\n})(IPCMessageType = exports.IPCMessageType || (exports.IPCMessageType = {}));\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    Buffer = require('buffer').Buffer;\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n    }\n\n    if (base === 16) {\n      this._parseHex(number, start);\n    } else {\n      this._parseBase(number, base, start);\n    }\n\n    if (number[0] === '-') {\n      this.negative = 1;\n    }\n\n    this._strip();\n\n    if (endian !== 'le') return;\n\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex (str, start, end) {\n    var r = 0;\n    var len = Math.min(str.length, end);\n    var z = 0;\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r <<= 4;\n\n      var b;\n\n      // 'a' - 'f'\n      if (c >= 49 && c <= 54) {\n        b = c - 49 + 0xa;\n\n      // 'A' - 'F'\n      } else if (c >= 17 && c <= 22) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n\n      r |= b;\n      z |= b;\n    }\n\n    assert(!(z & 0xf0), 'Invalid character in ' + str);\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    // Scan 24-bit chunks and add them to the number\n    var off = 0;\n    for (i = number.length - 6, j = 0; i >= start; i -= 6) {\n      w = parseHex(number, i, i + 6);\n      this.words[j] |= (w << off) & 0x3ffffff;\n      // NOTE: `0x3fffff` is intentional here, 26bits max shift + 24bit hex limb\n      this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;\n      off += 24;\n      if (off >= 26) {\n        off -= 26;\n        j++;\n      }\n    }\n    if (i + 6 !== start) {\n      w = parseHex(number, start, i + 6);\n      this.words[j] |= (w << off) & 0x3ffffff;\n      this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;\n    }\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      r._strip();\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst eth_eip712_util_1 = __importDefault(require(\"eth-eip712-util\"));\nconst events_1 = require(\"events\");\nconst FilterPolyfill_1 = require(\"./FilterPolyfill\");\nconst JSONRPC_1 = require(\"./types/JSONRPC\");\nconst Web3Provider_1 = require(\"./types/Web3Provider\");\nconst util_1 = require(\"./util\");\nconst LOCAL_STORAGE_ADDRESSES_KEY = \"Addresses\";\nclass WalletLinkProvider extends events_1.EventEmitter {\n    constructor(options) {\n        super();\n        this._filterPolyfill = new FilterPolyfill_1.FilterPolyfill(this);\n        this._addresses = [];\n        this._send = this.send;\n        this._sendAsync = this.sendAsync;\n        if (!options.relay) {\n            throw new Error(\"realy must be provided\");\n        }\n        if (!options.jsonRpcUrl) {\n            throw new Error(\"jsonRpcUrl must be provided\");\n        }\n        this._relay = options.relay;\n        this._chainId = util_1.ensureIntNumber(options.chainId || 1);\n        this._jsonRpcUrl = options.jsonRpcUrl;\n        const cahedAddresses = this._relay.getStorageItem(LOCAL_STORAGE_ADDRESSES_KEY);\n        if (cahedAddresses) {\n            const addresses = cahedAddresses.split(\" \");\n            if (addresses[0] !== \"\") {\n                this._addresses = addresses;\n            }\n        }\n    }\n    get selectedAddress() {\n        return this._addresses[0] || undefined;\n    }\n    get networkVersion() {\n        return this._chainId.toString(10);\n    }\n    get isWalletLink() {\n        return true;\n    }\n    get host() {\n        return this._jsonRpcUrl;\n    }\n    get connected() {\n        return true;\n    }\n    isConnected() {\n        return true;\n    }\n    async enable() {\n        if (this._addresses.length > 0) {\n            return this._addresses;\n        }\n        return await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts);\n    }\n    send(requestOrMethod, callbackOrParams) {\n        // send<T>(method, params): Promise<T>\n        if (typeof requestOrMethod === \"string\") {\n            const method = requestOrMethod;\n            const params = Array.isArray(callbackOrParams)\n                ? callbackOrParams\n                : callbackOrParams !== undefined\n                    ? [callbackOrParams]\n                    : [];\n            const request = { jsonrpc: \"2.0\", id: 1, method, params };\n            return this._sendRequestAsync(request).then(res => res.result);\n        }\n        // send(JSONRPCRequest | JSONRPCRequest[], callback): void\n        if (typeof callbackOrParams === \"function\") {\n            const request = requestOrMethod;\n            const callback = callbackOrParams;\n            return this._sendAsync(request, callback);\n        }\n        // send(JSONRPCRequest[]): JSONRPCResponse[]\n        if (Array.isArray(requestOrMethod)) {\n            const requests = requestOrMethod;\n            return requests.map(r => this._sendRequest(r));\n        }\n        // send(JSONRPCRequest): JSONRPCResponse\n        const req = requestOrMethod;\n        return this._sendRequest(req);\n    }\n    sendAsync(request, callback) {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"callback is required\");\n        }\n        // send(JSONRPCRequest[], callback): void\n        if (Array.isArray(request)) {\n            const arrayCb = callback;\n            this._sendMultipleRequestsAsync(request)\n                .then(responses => arrayCb(null, responses))\n                .catch(err => arrayCb(err, null));\n            return;\n        }\n        // send(JSONRPCRequest, callback): void\n        const cb = callback;\n        this._sendRequestAsync(request)\n            .then(response => cb(null, response))\n            .catch(err => cb(err, null));\n    }\n    async scanQRCode(match) {\n        const res = await this._relay.scanQRCode(util_1.ensureRegExpString(match));\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    async arbitraryRequest(data) {\n        const res = await this._relay.arbitraryRequest(data);\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    supportsSubscriptions() {\n        return false;\n    }\n    subscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    unsubscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    disconnect() {\n        return true;\n    }\n    _sendRequest(request) {\n        const response = {\n            jsonrpc: \"2.0\",\n            id: request.id\n        };\n        const { method } = request;\n        response.result = this._handleSynchronousMethods(request);\n        if (response.result === undefined) {\n            throw new Error(`WalletLink does not support calling ${method} synchronously without ` +\n                `a callback. Please provide a callback parameter to call ${method} ` +\n                `asynchronously.`);\n        }\n        return response;\n    }\n    _setAddresses(addresses) {\n        if (!Array.isArray(addresses)) {\n            throw new Error(\"addresses is not an array\");\n        }\n        this._addresses = addresses.map(address => util_1.ensureAddressString(address));\n        this._relay.setStorageItem(LOCAL_STORAGE_ADDRESSES_KEY, addresses.join(\" \"));\n        this.emit(\"accountsChanged\", this._addresses);\n    }\n    _sendRequestAsync(request) {\n        return new Promise((resolve, reject) => {\n            try {\n                const syncResult = this._handleSynchronousMethods(request);\n                if (syncResult !== undefined) {\n                    return resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: syncResult\n                    });\n                }\n                const filterPromise = this._handleAsynchronousFilterMethods(request);\n                if (filterPromise !== undefined) {\n                    filterPromise\n                        .then(res => resolve(Object.assign({}, res, { id: request.id })))\n                        .catch(err => reject(err));\n                    return;\n                }\n            }\n            catch (err) {\n                return reject(err);\n            }\n            this._handleAsynchronousMethods(request)\n                .then(res => resolve(Object.assign({}, res, { id: request.id })))\n                .catch(err => reject(err));\n        });\n    }\n    _sendMultipleRequestsAsync(requests) {\n        return Promise.all(requests.map(r => this._sendRequestAsync(r)));\n    }\n    _handleSynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_accounts:\n                return this._eth_accounts();\n            case JSONRPC_1.JSONRPCMethod.eth_coinbase:\n                return this._eth_coinbase();\n            case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:\n                return this._eth_uninstallFilter(params);\n            case JSONRPC_1.JSONRPCMethod.net_version:\n                return this._net_version();\n            default:\n                return undefined;\n        }\n    }\n    _handleAsynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:\n                return this._eth_requestAccounts();\n            case JSONRPC_1.JSONRPCMethod.eth_sign:\n                return this._eth_sign(params);\n            case JSONRPC_1.JSONRPCMethod.eth_ecRecover:\n                return this._eth_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.personal_sign:\n                return this._personal_sign(params);\n            case JSONRPC_1.JSONRPCMethod.personal_ecRecover:\n                return this._personal_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTransaction:\n                return this._eth_signTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:\n                return this._eth_sendRawTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:\n                return this._eth_sendTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:\n                return this._eth_signTypedData_v1(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:\n                return this._throwUnsupportedMethodError();\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:\n                return this._eth_signTypedData_v3(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData:\n                return this._eth_signTypedData_v4(params);\n            case JSONRPC_1.JSONRPCMethod.walletlink_arbitrary:\n                return this._walletlink_arbitrary(params);\n        }\n        return window\n            .fetch(this._jsonRpcUrl, {\n            method: \"POST\",\n            body: JSON.stringify(request),\n            mode: \"cors\",\n            headers: { \"Content-Type\": \"application/json\" }\n        })\n            .then(res => res.json())\n            .then(json => {\n            if (!json) {\n                throw new Web3Provider_1.ProviderError(\"unexpected response\");\n            }\n            const response = json;\n            const { error } = response;\n            if (error) {\n                throw new Web3Provider_1.ProviderError(error.message || \"RPC Error\", error.code, error.data);\n            }\n            return response;\n        });\n    }\n    _handleAsynchronousFilterMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_newFilter:\n                return this._eth_newFilter(params);\n            case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:\n                return this._eth_newBlockFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:\n                return this._eth_newPendingTransactionFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:\n                return this._eth_getFilterChanges(params);\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:\n                return this._eth_getFilterLogs(params);\n        }\n        return undefined;\n    }\n    _isKnownAddress(addressString) {\n        try {\n            const address = util_1.ensureAddressString(addressString);\n            return this._addresses.includes(address);\n        }\n        catch (_a) { }\n        return false;\n    }\n    _ensureKnownAddress(addressString) {\n        if (!this._isKnownAddress(addressString)) {\n            throw new Error(\"Unknown Ethereum address\");\n        }\n    }\n    _prepareTransactionParams(tx) {\n        const fromAddress = tx.from\n            ? util_1.ensureAddressString(tx.from)\n            : this.selectedAddress;\n        if (!fromAddress) {\n            throw new Error(\"Ethereum address is unavailable\");\n        }\n        this._ensureKnownAddress(fromAddress);\n        const toAddress = tx.to ? util_1.ensureAddressString(tx.to) : null;\n        const weiValue = tx.value != null ? util_1.ensureBN(tx.value) : new bn_js_1.default(0);\n        const data = tx.data ? util_1.ensureBuffer(tx.data) : Buffer.alloc(0);\n        const nonce = tx.nonce != null ? util_1.ensureIntNumber(tx.nonce) : null;\n        const gasPriceInWei = tx.gasPrice != null ? util_1.ensureBN(tx.gasPrice) : null;\n        const gasLimit = tx.gas != null ? util_1.ensureBN(tx.gas) : null;\n        const chainId = this._chainId;\n        return {\n            fromAddress,\n            toAddress,\n            weiValue,\n            data,\n            nonce,\n            gasPriceInWei,\n            gasLimit,\n            chainId\n        };\n    }\n    _requireAuthorization() {\n        if (this._addresses.length === 0) {\n            throw new Web3Provider_1.ProviderError(\"Unauthorized\", Web3Provider_1.ProviderErrorCode.UNAUTHORIZED);\n        }\n    }\n    _throwUnsupportedMethodError() {\n        throw new Web3Provider_1.ProviderError(\"Unsupported method\", Web3Provider_1.ProviderErrorCode.UNSUPPORTED_METHOD);\n    }\n    async _signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        this._ensureKnownAddress(address);\n        try {\n            const res = await this._relay.signEthereumMessage(message, address, addPrefix, typedDataJson);\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw new Web3Provider_1.ProviderError(\"User denied message signature\", Web3Provider_1.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);\n            }\n            throw err;\n        }\n    }\n    async _ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        const res = await this._relay.ethereumAddressFromSignedMessage(message, signature, addPrefix);\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    _eth_accounts() {\n        return this._addresses;\n    }\n    _eth_coinbase() {\n        return this.selectedAddress || null;\n    }\n    _net_version() {\n        return this._chainId.toString(10);\n    }\n    async _eth_requestAccounts() {\n        if (this._addresses.length > 0) {\n            return Promise.resolve({ jsonrpc: \"2.0\", id: 0, result: this._addresses });\n        }\n        let res;\n        try {\n            res = await this._relay.requestEthereumAccounts();\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw new Web3Provider_1.ProviderError(\"User denied account authorization\", Web3Provider_1.ProviderErrorCode.USER_DENIED_REQUEST_ACCOUNTS);\n            }\n            throw err;\n        }\n        if (!res.result) {\n            throw new Error(\"accounts received is empty\");\n        }\n        this._setAddresses(res.result);\n        return { jsonrpc: \"2.0\", id: 0, result: this._addresses };\n    }\n    _eth_sign(params) {\n        this._requireAuthorization();\n        const address = util_1.ensureAddressString(params[0]);\n        const message = util_1.ensureBuffer(params[1]);\n        return this._signEthereumMessage(message, address, false);\n    }\n    _eth_ecRecover(params) {\n        const message = util_1.ensureBuffer(params[0]);\n        const signature = util_1.ensureBuffer(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, false);\n    }\n    _personal_sign(params) {\n        this._requireAuthorization();\n        const message = util_1.ensureBuffer(params[0]);\n        const address = util_1.ensureAddressString(params[1]);\n        return this._signEthereumMessage(message, address, true);\n    }\n    _personal_ecRecover(params) {\n        const message = util_1.ensureBuffer(params[0]);\n        const signature = util_1.ensureBuffer(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, true);\n    }\n    async _eth_signTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const res = await this._relay.signEthereumTransaction(tx);\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw new Web3Provider_1.ProviderError(\"User denied transaction signature\", Web3Provider_1.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);\n            }\n            throw err;\n        }\n    }\n    async _eth_sendRawTransaction(params) {\n        const signedTransaction = util_1.ensureBuffer(params[0]);\n        const res = await this._relay.submitEthereumTransaction(signedTransaction, this._chainId);\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    async _eth_sendTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const res = await this._relay.signAndSubmitEthereumTransaction(tx);\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw new Web3Provider_1.ProviderError(\"User denied transaction signature\", Web3Provider_1.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);\n            }\n            throw err;\n        }\n    }\n    async _eth_signTypedData_v1(params) {\n        this._requireAuthorization();\n        const typedData = params[0];\n        const address = util_1.ensureAddressString(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedDataLegacy({ data: typedData });\n        const typedDataJson = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJson);\n    }\n    async _eth_signTypedData_v3(params) {\n        this._requireAuthorization();\n        const address = util_1.ensureAddressString(params[0]);\n        const typedData = params[1];\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v3({ data: typedData });\n        const typedDataJson = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJson);\n    }\n    async _eth_signTypedData_v4(params) {\n        this._requireAuthorization();\n        const address = util_1.ensureAddressString(params[0]);\n        const typedData = params[1];\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v4({ data: typedData });\n        const typedDataJson = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJson);\n    }\n    async _walletlink_arbitrary(params) {\n        const data = params[0];\n        if (typeof data !== \"string\") {\n            throw new Error(\"parameter must be a string\");\n        }\n        const result = await this.arbitraryRequest(data);\n        return { jsonrpc: \"2.0\", id: 0, result };\n    }\n    _eth_uninstallFilter(params) {\n        const filterId = util_1.ensureHexString(params[0]);\n        return this._filterPolyfill.uninstallFilter(filterId);\n    }\n    async _eth_newFilter(params) {\n        const param = params[0]; // TODO: un-any this\n        const filterId = await this._filterPolyfill.newFilter(param);\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newBlockFilter() {\n        const filterId = await this._filterPolyfill.newBlockFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newPendingTransactionFilter() {\n        const filterId = await this._filterPolyfill.newPendingTransactionFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    _eth_getFilterChanges(params) {\n        const filterId = util_1.ensureHexString(params[0]);\n        return this._filterPolyfill.getFilterChanges(filterId);\n    }\n    _eth_getFilterLogs(params) {\n        const filterId = util_1.ensureHexString(params[0]);\n        return this._filterPolyfill.getFilterLogs(filterId);\n    }\n}\nexports.WalletLinkProvider = WalletLinkProvider;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst common_1 = require(\"./types/common\");\nconst INT_STRING_REGEX = /^[0-9]*$/;\nconst HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\nfunction hexStringFromBuffer(buf, includePrefix = false) {\n    const hex = buf.toString(\"hex\");\n    return common_1.HexString(includePrefix ? \"0x\" + hex : hex);\n}\nexports.hexStringFromBuffer = hexStringFromBuffer;\nfunction bigIntStringFromBN(bn) {\n    return common_1.BigIntString(bn.toString(10));\n}\nexports.bigIntStringFromBN = bigIntStringFromBN;\nfunction intNumberFromHexString(hex) {\n    return common_1.IntNumber(new bn_js_1.default(ensureEvenLengthHexString(hex, false), 16).toNumber());\n}\nexports.intNumberFromHexString = intNumberFromHexString;\nfunction hexStringFromIntNumber(num) {\n    return common_1.HexString(\"0x\" + new bn_js_1.default(num).toString(16));\n}\nexports.hexStringFromIntNumber = hexStringFromIntNumber;\nfunction has0xPrefix(str) {\n    return str.startsWith(\"0x\") || str.startsWith(\"0X\");\n}\nexports.has0xPrefix = has0xPrefix;\nfunction strip0x(hex) {\n    if (has0xPrefix(hex)) {\n        return hex.slice(2);\n    }\n    return hex;\n}\nexports.strip0x = strip0x;\nfunction prepend0x(hex) {\n    if (has0xPrefix(hex)) {\n        return \"0x\" + hex.slice(2);\n    }\n    return \"0x\" + hex;\n}\nexports.prepend0x = prepend0x;\nfunction isHexString(hex) {\n    if (typeof hex !== \"string\") {\n        return false;\n    }\n    const s = strip0x(hex).toLowerCase();\n    return HEXADECIMAL_STRING_REGEX.test(s);\n}\nexports.isHexString = isHexString;\nfunction ensureHexString(hex, includePrefix = false) {\n    if (typeof hex === \"string\") {\n        const s = strip0x(hex).toLowerCase();\n        if (HEXADECIMAL_STRING_REGEX.test(s)) {\n            return common_1.HexString(includePrefix ? \"0x\" + s : s);\n        }\n    }\n    throw new Error(`\"${hex}\" is not a hexadecimal string`);\n}\nexports.ensureHexString = ensureHexString;\nfunction ensureEvenLengthHexString(hex, includePrefix = false) {\n    let h = ensureHexString(hex, false);\n    if (h.length % 2 === 1) {\n        h = common_1.HexString(\"0\" + h);\n    }\n    return includePrefix ? common_1.HexString(\"0x\" + h) : h;\n}\nexports.ensureEvenLengthHexString = ensureEvenLengthHexString;\nfunction ensureAddressString(str) {\n    if (typeof str === \"string\") {\n        const s = strip0x(str).toLowerCase();\n        if (isHexString(s) && s.length === 40) {\n            return common_1.AddressString(prepend0x(s));\n        }\n    }\n    throw new Error(`Invalid Ethereum address: ${str}`);\n}\nexports.ensureAddressString = ensureAddressString;\nfunction ensureBuffer(str) {\n    if (Buffer.isBuffer(str)) {\n        return str;\n    }\n    if (typeof str === \"string\") {\n        if (isHexString(str)) {\n            const s = ensureEvenLengthHexString(str, false);\n            return Buffer.from(s, \"hex\");\n        }\n        else {\n            return Buffer.from(str, \"utf8\");\n        }\n    }\n    throw new Error(`Not binary data: ${str}`);\n}\nexports.ensureBuffer = ensureBuffer;\nfunction ensureIntNumber(num) {\n    if (typeof num === \"number\" && Number.isInteger(num)) {\n        return common_1.IntNumber(num);\n    }\n    if (typeof num === \"string\") {\n        if (INT_STRING_REGEX.test(num)) {\n            return common_1.IntNumber(Number(num));\n        }\n        if (isHexString(num)) {\n            return common_1.IntNumber(new bn_js_1.default(ensureEvenLengthHexString(num, false), 16).toNumber());\n        }\n    }\n    throw new Error(`Not an integer: ${num}`);\n}\nexports.ensureIntNumber = ensureIntNumber;\nfunction ensureRegExpString(regExp) {\n    if (regExp instanceof RegExp) {\n        return common_1.RegExpString(regExp.toString());\n    }\n    throw new Error(`Not a RegExp: ${regExp}`);\n}\nexports.ensureRegExpString = ensureRegExpString;\nfunction ensureBN(val) {\n    if (val != null && (bn_js_1.default.isBN(val) || isBigNumber(val))) {\n        return new bn_js_1.default(val.toString(10), 10);\n    }\n    if (typeof val === \"number\") {\n        return new bn_js_1.default(ensureIntNumber(val));\n    }\n    if (typeof val === \"string\") {\n        if (INT_STRING_REGEX.test(val)) {\n            return new bn_js_1.default(val, 10);\n        }\n        if (isHexString(val)) {\n            return new bn_js_1.default(ensureEvenLengthHexString(val, false), 16);\n        }\n    }\n    throw new Error(`Not an integer: ${val}`);\n}\nexports.ensureBN = ensureBN;\nfunction isBigNumber(val) {\n    if (val == null || typeof val.constructor !== \"function\") {\n        return false;\n    }\n    const { constructor } = val;\n    return (typeof constructor.config === \"function\" &&\n        typeof constructor.EUCLID === \"number\");\n}\nexports.isBigNumber = isBigNumber;\nfunction range(start, stop) {\n    return Array.from({ length: stop - start }, (_, i) => start + i);\n}\nexports.range = range;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst WalletLinkNotification_1 = require(\"./WalletLinkNotification\");\nconst WalletLinkProvider_1 = require(\"./WalletLinkProvider\");\nconst WalletLinkRelay_1 = require(\"./WalletLinkRelay\");\nconst WALLETLINK_URL = process.env.WALLETLINK_URL || \"https://www.walletlink.org\";\nconst WALLETLINK_VERSION = process.env.WALLETLINK_VERSION ||\n    require(\"../package.json\").version ||\n    \"unknown\";\nclass WalletLink {\n    constructor(options) {\n        this._appName = \"\";\n        this._appLogoUrl = null;\n        this._relay = new WalletLinkRelay_1.WalletLinkRelay({\n            walletLinkUrl: options.walletLinkUrl || WALLETLINK_URL\n        });\n        this.setAppInfo(options.appName, options.appLogoUrl);\n        WalletLinkNotification_1.WalletLinkNotification.injectContainer();\n        this._relay.injectIframe();\n    }\n    makeWeb3Provider(jsonRpcUrl, chainId = 1) {\n        return new WalletLinkProvider_1.WalletLinkProvider({\n            relay: this._relay,\n            jsonRpcUrl,\n            chainId\n        });\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this._appName = appName || \"DApp\";\n        this._appLogoUrl = appLogoUrl || getFavicon();\n        this._relay.setAppInfo(this._appName, this._appLogoUrl);\n    }\n}\nWalletLink.VERSION = WALLETLINK_VERSION;\nexports.WalletLink = WalletLink;\nfunction getFavicon() {\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\n        document.querySelector('link[sizes=\"180x180\"]') ||\n        document.querySelector('link[rel=\"icon\"]') ||\n        document.querySelector('link[rel=\"shortcut icon\"]');\n    const { protocol, host } = document.location;\n    const href = el ? el.getAttribute(\"href\") : null;\n    if (!href || href.startsWith(\"javascript:\")) {\n        return null;\n    }\n    if (href.startsWith(\"http://\") ||\n        href.startsWith(\"https://\") ||\n        href.startsWith(\"data:\")) {\n        return href;\n    }\n    if (href.startsWith(\"//\")) {\n        return protocol + href;\n    }\n    return `${protocol}//${host}${href}`;\n}\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bind_decorator_1 = __importDefault(require(\"bind-decorator\"));\nconst chevronSvg_1 = __importDefault(require(\"./images/chevronSvg\"));\nconst WalletLinkNotificationCss_1 = __importDefault(require(\"./WalletLinkNotificationCss\"));\nconst containerElId = \"_WalletLinkNotifications\";\nconst elClassName = \"_WalletLinkNotification\";\nconst showElClassName = \"_WalletLinkNotificationShow\";\nconst expandElClassName = \"_WalletLinkNotificationExpand\";\nconst boxElClassName = \"_WalletLinkNotificationBox\";\nconst contentElClassName = \"_WalletLinkNotificationContent\";\nconst messageElClassName = \"_WalletLinkNotificationMessage\";\nconst chevronElClassName = \"_WalletLinkNotificationChevron\";\nconst progressBarElClassName = \"_WalletLinkNotificationProgressBar\";\nconst actionsElClassName = \"_WalletLinkNotificationActions\";\nconst actionElClassName = \"_WalletLinkNotificationAction\";\nconst buttonInfoElClassName = \"_WalletLinkNotificationButtonInfo\";\nconst buttonElClassName = \"_WalletLinkNotificationButton\";\nclass WalletLinkNotification {\n    constructor(params) {\n        this.el = null;\n        this.autoExpandTimer = null;\n        this._expanded = false;\n        const { message, showProgressBar, autoExpandAfter, buttonInfo1, buttonInfo2, buttonInfo3, buttonLabel1, buttonLabel2, buttonLabel3, onClickButton1, onClickButton2, onClickButton3 } = params;\n        this.message = message || \"Notification\";\n        this.showProgressBar = showProgressBar || false;\n        this.autoExpandAfter =\n            typeof autoExpandAfter === \"number\" && autoExpandAfter >= 0\n                ? autoExpandAfter\n                : -1;\n        this.buttonInfo1 = buttonInfo1 || \"\";\n        this.buttonInfo2 = buttonInfo2 || \"\";\n        this.buttonInfo3 = buttonInfo3 || \"\";\n        this.buttonLabel1 = buttonLabel1 || \"Cancel\";\n        this.buttonLabel2 = buttonLabel2 || \"Help\";\n        this.buttonLabel3 = buttonLabel3 || \"Dismiss\";\n        this.onClickButton1 = onClickButton1 || null;\n        this.onClickButton2 = onClickButton2 || null;\n        this.onClickButton3 = onClickButton3 || null;\n    }\n    static injectContainer() {\n        if (document.querySelector(`#${containerElId}`)) {\n            return;\n        }\n        const containerEl = document.createElement(\"div\");\n        containerEl.id = containerElId;\n        const styleEl = document.createElement(\"style\");\n        styleEl.type = \"text/css\";\n        styleEl.appendChild(document.createTextNode(WalletLinkNotificationCss_1.default));\n        containerEl.appendChild(styleEl);\n        document.documentElement.appendChild(containerEl);\n    }\n    show() {\n        const { buttonLabel1, buttonLabel2, buttonLabel3 } = this;\n        if (!this.el) {\n            this.el = document.createElement(\"div\");\n            this.el.className = elClassName;\n            const boxEl = document.createElement(\"div\");\n            boxEl.className = boxElClassName;\n            const contentEl = document.createElement(\"div\");\n            contentEl.className = contentElClassName;\n            const messageEl = document.createElement(\"div\");\n            messageEl.className = messageElClassName;\n            messageEl.appendChild(document.createTextNode(this.message));\n            contentEl.appendChild(messageEl);\n            if (this.onClickButton1 || this.onClickButton2 || this.onClickButton3) {\n                const chevronEl = document.createElement(\"img\");\n                chevronEl.src = chevronSvg_1.default;\n                chevronEl.alt = \"Expand\";\n                chevronEl.className = chevronElClassName;\n                contentEl.appendChild(chevronEl);\n            }\n            contentEl.addEventListener(\"click\", this.handleClick, false);\n            boxEl.appendChild(contentEl);\n            if (this.showProgressBar) {\n                const progressBarEl = document.createElement(\"div\");\n                progressBarEl.className = progressBarElClassName;\n                boxEl.appendChild(progressBarEl);\n            }\n            const actionsEl = document.createElement(\"div\");\n            actionsEl.className = actionsElClassName;\n            if (this.onClickButton1) {\n                const actionEl = document.createElement(\"div\");\n                actionEl.className = actionElClassName;\n                const infoEl = document.createElement(\"span\");\n                infoEl.classList.add(buttonInfoElClassName);\n                infoEl.classList.add(`${buttonInfoElClassName}1`);\n                infoEl.appendChild(document.createTextNode(this.buttonInfo1));\n                actionEl.appendChild(infoEl);\n                const buttonEl = document.createElement(\"button\");\n                buttonEl.classList.add(buttonElClassName);\n                buttonEl.classList.add(`${buttonElClassName}1`);\n                buttonEl.appendChild(document.createTextNode(buttonLabel1));\n                actionEl.appendChild(buttonEl);\n                actionsEl.appendChild(actionEl);\n            }\n            if (this.onClickButton2) {\n                const actionEl = document.createElement(\"div\");\n                actionEl.className = actionElClassName;\n                const infoEl = document.createElement(\"span\");\n                infoEl.classList.add(buttonInfoElClassName);\n                infoEl.classList.add(`${buttonInfoElClassName}2`);\n                infoEl.appendChild(document.createTextNode(this.buttonInfo2));\n                actionEl.appendChild(infoEl);\n                const buttonEl = document.createElement(\"button\");\n                buttonEl.classList.add(buttonElClassName);\n                buttonEl.classList.add(`${buttonElClassName}2`);\n                buttonEl.appendChild(document.createTextNode(buttonLabel2));\n                actionEl.appendChild(buttonEl);\n                actionsEl.appendChild(actionEl);\n            }\n            if (this.onClickButton3) {\n                const actionEl = document.createElement(\"div\");\n                actionEl.className = actionElClassName;\n                const infoEl = document.createElement(\"span\");\n                infoEl.classList.add(buttonInfoElClassName);\n                infoEl.classList.add(`${buttonInfoElClassName}3`);\n                infoEl.appendChild(document.createTextNode(this.buttonInfo3));\n                actionEl.appendChild(infoEl);\n                const buttonEl = document.createElement(\"button\");\n                buttonEl.classList.add(buttonElClassName);\n                buttonEl.classList.add(`${buttonElClassName}3`);\n                buttonEl.appendChild(document.createTextNode(buttonLabel3));\n                actionEl.appendChild(buttonEl);\n                actionsEl.appendChild(actionEl);\n            }\n            boxEl.appendChild(actionsEl);\n            this.el.appendChild(boxEl);\n        }\n        const containerEl = document.querySelector(`#${containerElId}`);\n        if (!containerEl) {\n            return;\n        }\n        containerEl.appendChild(this.el);\n        const button1El = this.$(`.${buttonElClassName}1`);\n        if (button1El) {\n            button1El.addEventListener(\"click\", this.handleClickButton1, false);\n        }\n        const button2El = this.$(`.${buttonElClassName}2`);\n        if (button2El) {\n            button2El.addEventListener(\"click\", this.handleClickButton2, false);\n        }\n        const button3El = this.$(`.${buttonElClassName}3`);\n        if (button3El) {\n            button3El.addEventListener(\"click\", this.handleClickButton3, false);\n        }\n        window.setTimeout(() => {\n            if (this.el) {\n                this.el.classList.add(showElClassName);\n            }\n        }, 5);\n        if (this.autoExpandAfter >= 0) {\n            this.autoExpandTimer = window.setTimeout(() => {\n                this.autoExpandTimer = null;\n                this.expanded = true;\n            }, this.autoExpandAfter);\n        }\n    }\n    hide() {\n        if (!this.el) {\n            return;\n        }\n        const { parentNode } = this.el;\n        if (parentNode) {\n            parentNode.removeChild(this.el);\n        }\n        const button1El = this.$(`.${buttonElClassName}1`);\n        if (button1El) {\n            button1El.removeEventListener(\"click\", this.handleClickButton1, false);\n        }\n        const button2El = this.$(`.${buttonElClassName}2`);\n        if (button2El) {\n            button2El.removeEventListener(\"click\", this.handleClickButton2, false);\n        }\n        const button3El = this.$(`.${buttonElClassName}3`);\n        if (button3El) {\n            button3El.removeEventListener(\"click\", this.handleClickButton3, false);\n        }\n        this.el = null;\n    }\n    get expanded() {\n        return this._expanded;\n    }\n    set expanded(expanded) {\n        this._expanded = expanded;\n        if (this.autoExpandTimer !== null) {\n            window.clearTimeout(this.autoExpandTimer);\n            this.autoExpandTimer = null;\n        }\n        if (this.el) {\n            if (expanded) {\n                this.el.classList.add(expandElClassName);\n            }\n            else {\n                this.el.classList.remove(expandElClassName);\n            }\n        }\n    }\n    $(selector) {\n        if (!this.el) {\n            return null;\n        }\n        return this.el.querySelector(selector);\n    }\n    handleClick(evt) {\n        evt.preventDefault();\n        this.expanded = !this.expanded;\n    }\n    handleClickButton1(evt) {\n        evt.preventDefault();\n        if (this.onClickButton1) {\n            this.onClickButton1();\n        }\n    }\n    handleClickButton2(evt) {\n        evt.preventDefault();\n        if (this.onClickButton2) {\n            this.onClickButton2();\n        }\n    }\n    handleClickButton3(evt) {\n        evt.preventDefault();\n        if (this.onClickButton3) {\n            this.onClickButton3();\n        }\n    }\n}\n__decorate([\n    bind_decorator_1.default\n], WalletLinkNotification.prototype, \"handleClick\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletLinkNotification.prototype, \"handleClickButton1\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletLinkNotification.prototype, \"handleClickButton2\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletLinkNotification.prototype, \"handleClickButton3\", null);\nexports.WalletLinkNotification = WalletLinkNotification;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants;\n(function (constants) {\n    constants.typeOfFunction = 'function';\n    constants.boolTrue = true;\n})(constants || (constants = {}));\nfunction bind(target, propertyKey, descriptor) {\n    if (!descriptor || (typeof descriptor.value !== constants.typeOfFunction)) {\n        throw new TypeError(\"Only methods can be decorated with @bind. <\" + propertyKey + \"> is not a method!\");\n    }\n    return {\n        configurable: constants.boolTrue,\n        get: function () {\n            var bound = descriptor.value.bind(this);\n            // Credits to https://github.com/andreypopp/autobind-decorator for memoizing the result of bind against a symbol on the instance.\n            Object.defineProperty(this, propertyKey, {\n                value: bound,\n                configurable: constants.boolTrue,\n                writable: constants.boolTrue\n            });\n            return bound;\n        }\n    };\n}\nexports.bind = bind;\nexports.default = bind;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `\n  animation: none;\n  animation-delay: 0;\n  animation-direction: normal;\n  animation-duration: 0;\n  animation-fill-mode: none;\n  animation-iteration-count: 1;\n  animation-name: none;\n  animation-play-state: running;\n  animation-timing-function: ease;\n  backface-visibility: visible;\n  background: 0;\n  background-attachment: scroll;\n  background-clip: border-box;\n  background-color: transparent;\n  background-image: none;\n  background-origin: padding-box;\n  background-position: 0 0;\n  background-position-x: 0;\n  background-position-y: 0;\n  background-repeat: repeat;\n  background-size: auto auto;\n  border: 0;\n  border-style: none;\n  border-width: medium;\n  border-color: inherit;\n  border-bottom: 0;\n  border-bottom-color: inherit;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n  border-bottom-style: none;\n  border-bottom-width: medium;\n  border-collapse: separate;\n  border-image: none;\n  border-left: 0;\n  border-left-color: inherit;\n  border-left-style: none;\n  border-left-width: medium;\n  border-radius: 0;\n  border-right: 0;\n  border-right-color: inherit;\n  border-right-style: none;\n  border-right-width: medium;\n  border-spacing: 0;\n  border-top: 0;\n  border-top-color: inherit;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border-top-style: none;\n  border-top-width: medium;\n  bottom: auto;\n  box-shadow: none;\n  box-sizing: border-box;\n  caption-side: top;\n  clear: none;\n  clip: auto;\n  color: inherit;\n  columns: auto;\n  column-count: auto;\n  column-fill: balance;\n  column-gap: normal;\n  column-rule: medium none currentColor;\n  column-rule-color: currentColor;\n  column-rule-style: none;\n  column-rule-width: none;\n  column-span: 1;\n  column-width: auto;\n  content: normal;\n  counter-increment: none;\n  counter-reset: none;\n  cursor: auto;\n  direction: ltr;\n  display: inline;\n  empty-cells: show;\n  float: none;\n  font: normal;\n  font-family:\n    -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Helvetica Neue\",\n    Arial, sans-serif;\n  font-size: medium;\n  font-style: normal;\n  font-variant: normal;\n  font-weight: normal;\n  height: auto;\n  hyphens: none;\n  left: auto;\n  letter-spacing: normal;\n  line-height: normal;\n  list-style: none;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: disc;\n  margin: 0;\n  margin-bottom: 0;\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  max-height: none;\n  max-width: none;\n  min-height: 0;\n  min-width: 0;\n  opacity: 1;\n  orphans: 0;\n  outline: 0;\n  outline-color: invert;\n  outline-style: none;\n  outline-width: medium;\n  overflow: visible;\n  overflow-x: visible;\n  overflow-y: visible;\n  padding: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  page-break-after: auto;\n  page-break-before: auto;\n  page-break-inside: auto;\n  perspective: none;\n  perspective-origin: 50% 50%;\n  pointer-events: auto;\n  position: static;\n  quotes: \"\\\\201C\"\"\\\\201D\"\"\\\\2018\"\"\\\\2019\";\n  right: auto;\n  tab-size: 8;\n  table-layout: auto;\n  text-align: inherit;\n  text-align-last: auto;\n  text-decoration: none;\n  text-decoration-color: inherit;\n  text-decoration-line: none;\n  text-decoration-style: solid;\n  text-indent: 0;\n  text-shadow: none;\n  text-transform: none;\n  top: auto;\n  transform: none;\n  transform-style: flat;\n  transition: none;\n  transition-delay: 0s;\n  transition-duration: 0s;\n  transition-property: none;\n  transition-timing-function: ease;\n  unicode-bidi: normal;\n  vertical-align: baseline;\n  visibility: visible;\n  white-space: normal;\n  widows: 0;\n  width: auto;\n  word-spacing: normal;\n  z-index: auto;\n  all: initial;\n  all: unset;\n`;\n","// Extracted from https://github.com/ethereumjs/ethereumjs-util and stripped out irrelevant code\n// Original code licensed under the Mozilla Public License Version 2.0\n\nconst createKeccakHash = require('keccak')\nconst BN = require('bn.js')\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nfunction zeros (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0)\n}\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method setLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nfunction setLength (msg, length, right) {\n  const buf = zeros(length)\n  msg = toBuffer(msg)\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf)\n      return buf\n    }\n    return msg.slice(0, length)\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length)\n      return buf\n    }\n    return msg.slice(-length)\n  }\n}\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nfunction setLengthRight (msg, length) {\n  return setLength(msg, length, true)\n}\n\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nfunction toBuffer (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v)\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex')\n      } else {\n        v = Buffer.from(v)\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v)\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0)\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer)\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray())\n    } else {\n      throw new Error('invalid type')\n    }\n  }\n  return v\n}\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nfunction bufferToHex (buf) {\n  buf = toBuffer(buf)\n  return '0x' + buf.toString('hex')\n}\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nfunction keccak (a, bits) {\n  a = toBuffer(a)\n  if (!bits) bits = 256\n\n  return createKeccakHash('keccak' + bits).update(a).digest()\n}\n\nfunction padToEven (str) {\n  return str.length % 2 ? '0' + str : str\n}\n\nfunction isHexString (str) {\n  return typeof str === 'string' && str.match(/^0x[0-9A-Fa-f]*$/)\n}\n\nfunction stripHexPrefix (str) {\n  if (typeof str === 'string' && str.startsWith('0x')) {\n    return str.slice(2)\n  }\n  return str\n}\n\nmodule.exports = {\n  zeros,\n  setLength,\n  setLengthRight,\n  isHexString,\n  stripHexPrefix,\n  toBuffer,\n  bufferToHex,\n  keccak\n}\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction OpaqueType() {\n    return (value) => value;\n}\nexports.OpaqueType = OpaqueType;\nexports.HexString = OpaqueType();\nexports.AddressString = OpaqueType();\nexports.IdNumber = OpaqueType();\nexports.BigIntString = OpaqueType();\nexports.IntNumber = OpaqueType();\nexports.RegExpString = OpaqueType();\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Web3Method;\n(function (Web3Method) {\n    Web3Method[\"requestEthereumAccounts\"] = \"requestEthereumAccounts\";\n    Web3Method[\"signEthereumMessage\"] = \"signEthereumMessage\";\n    Web3Method[\"signEthereumTransaction\"] = \"signEthereumTransaction\";\n    Web3Method[\"submitEthereumTransaction\"] = \"submitEthereumTransaction\";\n    Web3Method[\"ethereumAddressFromSignedMessage\"] = \"ethereumAddressFromSignedMessage\";\n    Web3Method[\"scanQRCode\"] = \"scanQRCode\";\n    Web3Method[\"arbitrary\"] = \"arbitrary\";\n})(Web3Method = exports.Web3Method || (exports.Web3Method = {}));\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.5539 10.4174C16.8027 10.16 16.8027 9.75167 16.5539 9.49423C16.2928 9.22408 15.8598 9.22405 15.5987 9.49415L13.2753 11.8974C12.874 12.3125 12.6734 12.5201 12.4404 12.5975C12.2357 12.6655 12.0144 12.6655 11.8096 12.5975C11.5766 12.52 11.376 12.3125 10.9747 11.8974L8.6513 9.49406C8.39018 9.22396 7.9572 9.22399 7.69612 9.49413C7.44731 9.75158 7.44731 10.1599 7.69612 10.4173L10.9745 13.8096C11.3759 14.2249 11.5766 14.4325 11.8095 14.51C12.0144 14.5781 12.2357 14.5781 12.4405 14.51C12.6735 14.4325 12.8742 14.2249 13.2756 13.8096L16.5539 10.4174Z' fill='%23050F19'/%3E%3C/svg%3E%0A`;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resetCss_1 = __importDefault(require(\"./resetCss\"));\nexports.default = `\n#_WalletLinkNotifications,\n#_WalletLinkNotifications * {\n  ${resetCss_1.default}\n}\n\n#_WalletLinkNotifications * {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Helvetica Neue\",\n    Arial, sans-serif;\n  box-sizing: border-box;\n}\n\n#_WalletLinkNotifications {\n  position: fixed;\n  top: 0;\n  right: 0;\n  text-align: right;\n  z-index: 2147483647;\n}\n\n#_WalletLinkNotifications style {\n  display: none;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotification {\n  display: block;\n  margin: 8px 16px 0 16px;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationBox {\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  color: black;\n  margin: 0;\n  font-size: 14px;\n  box-shadow:\n    0px 16px 24px rgba(0, 0, 0, 0.06),\n    0px 0px 8px rgba(0, 0, 0, 0.04);\n  border-radius: 16px;\n  transition: opacity 0.25s, transform 0.25s;\n  opacity: 0;\n  transform: translateX(25%);\n  text-align: left;\n  overflow: hidden;\n}\n\n#_WalletLinkNotifications\n  ._WalletLinkNotificationShow\n  ._WalletLinkNotificationBox {\n  opacity: 1;\n  transform: translateX(0);\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationContent {\n  display: flex;\n  flex-direction: row;\n  padding: 8px 8px 8px 16px;\n  align-items: center;\n  user-select: none;\n  cursor: pointer;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationMessage {\n  display: block;\n  color: black;\n  line-height: 1.5;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationChevron {\n  display: block;\n  margin-left: 8px;\n  transition: transform 0.05s;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationProgressBar {\n  display: block;\n  height: 2px;\n  position: relative;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationProgressBar::before {\n  display: block;\n  position: absolute;\n  content: \"\";\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background-image: linear-gradient(\n    to right,\n    rgba(22, 82, 240, 0) 0%,\n    rgba(22, 82, 240, 1) 100%\n  );\n  animation: WalletLinkNotificationProgressBar 2s linear infinite;\n}\n\n@keyframes WalletLinkNotificationProgressBar {\n  0% {\n    left: 0;\n    width: 0%;\n    background-image: linear-gradient(\n      to right,\n      rgba(22, 82, 240, 0) 0%,\n      rgba(22, 82, 240, 1) 100%\n    );\n  }\n  25% {\n    left: 0;\n    width: 100%;\n  }\n  50% {\n    left: 100%;\n    width: 0%;\n    background-image: linear-gradient(\n      to right,\n      rgba(22, 82, 240, 0) 0%,\n      rgba(22, 82, 240, 1) 100%\n    );\n  }\n  50.01% {\n    background-image: linear-gradient(\n      to left,\n      rgba(22, 82, 240, 0) 0%,\n      rgba(22, 82, 240, 1) 100%\n    );\n  }\n  75% {\n    left: 0;\n    width: 100%;\n  }\n  100% {\n    left: 0;\n    width: 0%;\n    background-image: linear-gradient(\n      to left,\n      rgba(22, 82, 240, 0) 0%,\n      rgba(22, 82, 240, 1) 100%\n    );\n  }\n}\n\n#_WalletLinkNotifications\n  ._WalletLinkNotificationExpand\n  ._WalletLinkNotificationProgressBar {\n  margin-bottom: -1px;\n}\n\n#_WalletLinkNotifications\n  ._WalletLinkNotificationExpand\n  ._WalletLinkNotificationChevron {\n  transform: rotateZ(180deg);\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationActions {\n  display: none;\n  flex-direction: column;\n  border-top: 1px solid #f5f7f8;\n  padding: 8px 16px;\n}\n\n#_WalletLinkNotifications\n  ._WalletLinkNotificationExpand\n  ._WalletLinkNotificationActions {\n  display: flex;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationAction {\n  color: #888;\n  margin: 8px 0;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationButtonInfo {\n  margin: 0 8px 0 0;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationButton {\n  color: #1652f0;\n  -webkit-text-fill-color: #1652f0;\n  cursor: pointer;\n  display: inline;\n  margin: 0;\n  padding: 0;\n  -webkit-appearance: none;\n  transition: opacity 0.25s;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationButton:active {\n  opacity: 0.6;\n}\n`;\n","const util = require('./util')\nconst abi = require('./abi')\n\nconst TYPED_MESSAGE_SCHEMA = {\n  type: 'object',\n  properties: {\n    types: {\n      type: 'object',\n      additionalProperties: {\n        type: 'array',\n        items: {\n          type: 'object',\n          properties: {\n            name: {type: 'string'},\n            type: {type: 'string'},\n          },\n          required: ['name', 'type'],\n        },\n      },\n    },\n    primaryType: {type: 'string'},\n    domain: {type: 'object'},\n    message: {type: 'object'},\n  },\n  required: ['types', 'primaryType', 'domain', 'message'],\n}\n\n/**\n * A collection of utility functions used for signing typed data\n */\nconst TypedDataUtils = {\n  /**\n   * Encodes an object by encoding and concatenating each of its members\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of an object\n   */\n  encodeData (primaryType, data, types, useV4 = true) {\n    const encodedTypes = ['bytes32']\n    const encodedValues = [this.hashType(primaryType, types)]\n\n    if(useV4) {\n      const encodeField = (name, type, value) => {\n        if (types[type] !== undefined) {\n          return ['bytes32', value == null ?\n            '0x0000000000000000000000000000000000000000000000000000000000000000' :\n            util.keccak(this.encodeData(type, value, types, useV4))]\n        }\n\n        if(value === undefined)\n          throw new Error(`missing value for field ${name} of type ${type}`)\n\n        if (type === 'bytes') {\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type === 'string') {\n          // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n          if (typeof value === 'string') {\n            value = Buffer.from(value, 'utf8')\n          }\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type.lastIndexOf(']') === type.length - 1) {\n          const parsedType = type.slice(0, type.lastIndexOf('['))\n          const typeValuePairs = value.map(item =>\n            encodeField(name, parsedType, item))\n          return ['bytes32', util.keccak(abi.rawEncode(\n            typeValuePairs.map(([type]) => type),\n            typeValuePairs.map(([, value]) => value),\n          ))]\n        }\n\n        return [type, value]\n      }\n\n      for (const field of types[primaryType]) {\n        const [type, value] = encodeField(field.name, field.type, data[field.name])\n        encodedTypes.push(type)\n        encodedValues.push(value)\n      }\n    } else {\n      for (const field of types[primaryType]) {\n        let value = data[field.name]\n        if (value !== undefined) {\n          if (field.type === 'bytes') {\n            encodedTypes.push('bytes32')\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (field.type === 'string') {\n            encodedTypes.push('bytes32')\n            // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n            if (typeof value === 'string') {\n              value = Buffer.from(value, 'utf8')\n            }\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (types[field.type] !== undefined) {\n            encodedTypes.push('bytes32')\n            value = util.keccak(this.encodeData(field.type, value, types, useV4))\n            encodedValues.push(value)\n          } else if (field.type.lastIndexOf(']') === field.type.length - 1) {\n            throw new Error('Arrays currently unimplemented in encodeData')\n          } else {\n            encodedTypes.push(field.type)\n            encodedValues.push(value)\n          }\n        }\n      }\n    }\n\n    return abi.rawEncode(encodedTypes, encodedValues)\n  },\n\n  /**\n   * Encodes the type of an object by encoding a comma delimited list of its members\n   *\n   * @param {string} primaryType - Root type to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of the type of an object\n   */\n  encodeType (primaryType, types) {\n    let result = ''\n    let deps = this.findTypeDependencies(primaryType, types).filter(dep => dep !== primaryType)\n    deps = [primaryType].concat(deps.sort())\n    for (const type of deps) {\n      const children = types[type]\n      if (!children) {\n        throw new Error('No type definition specified: ' + type)\n      }\n      result += type + '(' + types[type].map(({ name, type }) => type + ' ' + name).join(',') + ')'\n    }\n    return result\n  },\n\n  /**\n   * Finds all types within a type defintion object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} types - Type definitions\n   * @param {Array} results - current set of accumulated types\n   * @returns {Array} - Set of all types found in the type definition\n   */\n  findTypeDependencies (primaryType, types, results = []) {\n    primaryType = primaryType.match(/^\\w*/)[0]\n    if (results.includes(primaryType) || types[primaryType] === undefined) { return results }\n    results.push(primaryType)\n    for (const field of types[primaryType]) {\n      for (const dep of this.findTypeDependencies(field.type, types, results)) {\n        !results.includes(dep) && results.push(dep)\n      }\n    }\n    return results\n  },\n\n  /**\n   * Hashes an object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashStruct (primaryType, data, types, useV4 = true) {\n    return util.keccak(this.encodeData(primaryType, data, types, useV4))\n  },\n\n  /**\n   * Hashes the type of an object\n   *\n   * @param {string} primaryType - Root type to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashType (primaryType, types) {\n    return util.keccak(this.encodeType(primaryType, types))\n  },\n\n  /**\n   * Removes properties from a message object that are not defined per EIP-712\n   *\n   * @param {Object} data - typed message object\n   * @returns {Object} - typed message object with only allowed fields\n   */\n  sanitizeData (data) {\n    const sanitizedData = {}\n    for (const key in TYPED_MESSAGE_SCHEMA.properties) {\n      data[key] && (sanitizedData[key] = data[key])\n    }\n    if (sanitizedData.types) {\n      sanitizedData.types = Object.assign({ EIP712Domain: [] }, sanitizedData.types)\n    }\n    return sanitizedData\n  },\n\n  /**\n   * Returns the hash of a typed message as per EIP-712 for signing\n   *\n   * @param {Object} typedData - Types message data to sign\n   * @returns {string} - sha3 hash for signing\n   */\n  hash (typedData, useV4 = true) {\n    const sanitizedData = this.sanitizeData(typedData)\n    const parts = [Buffer.from('1901', 'hex')]\n    parts.push(this.hashStruct('EIP712Domain', sanitizedData.domain, sanitizedData.types, useV4))\n    if (sanitizedData.primaryType !== 'EIP712Domain') {\n      parts.push(this.hashStruct(sanitizedData.primaryType, sanitizedData.message, sanitizedData.types, useV4))\n    }\n    return util.keccak(Buffer.concat(parts))\n  },\n}\n\nmodule.exports = {\n  TYPED_MESSAGE_SCHEMA,\n  TypedDataUtils,\n\n  hashForSignTypedDataLegacy: function (msgParams) {\n    return typedSignatureHashLegacy(msgParams.data)\n  },\n\n  hashForSignTypedData_v3: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data, false)\n  },\n\n  hashForSignTypedData_v4: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data)\n  },\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHashLegacy(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? util.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return abi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      abi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      abi.soliditySHA3(types, data)\n    ]\n  )\n}\n","'use strict'\nmodule.exports = require('./lib/api')(require('./lib/keccak'))\n","'use strict'\nconst createKeccak = require('./keccak')\nconst createShake = require('./shake')\n\nmodule.exports = function (KeccakState) {\n  const Keccak = createKeccak(KeccakState)\n  const Shake = createShake(KeccakState)\n\n  return function (algorithm, options) {\n    const hash = typeof algorithm === 'string' ? algorithm.toLowerCase() : algorithm\n    switch (hash) {\n      case 'keccak224': return new Keccak(1152, 448, null, 224, options)\n      case 'keccak256': return new Keccak(1088, 512, null, 256, options)\n      case 'keccak384': return new Keccak(832, 768, null, 384, options)\n      case 'keccak512': return new Keccak(576, 1024, null, 512, options)\n\n      case 'sha3-224': return new Keccak(1152, 448, 0x06, 224, options)\n      case 'sha3-256': return new Keccak(1088, 512, 0x06, 256, options)\n      case 'sha3-384': return new Keccak(832, 768, 0x06, 384, options)\n      case 'sha3-512': return new Keccak(576, 1024, 0x06, 512, options)\n\n      case 'shake128': return new Shake(1344, 256, 0x1f, options)\n      case 'shake256': return new Shake(1088, 512, 0x1f, options)\n\n      default: throw new Error('Invald algorithm: ' + algorithm)\n    }\n  }\n}\n","'use strict'\nconst Buffer = require('safe-buffer').Buffer\nconst Transform = require('stream').Transform\nconst inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Keccak (rate, capacity, delimitedSuffix, hashBitLength, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._hashBitLength = hashBitLength\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Keccak, Transform)\n\n  Keccak.prototype._transform = function (chunk, encoding, callback) {\n    let error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype._flush = function (callback) {\n    let error = null\n    try {\n      this.push(this.digest())\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Digest already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Keccak.prototype.digest = function (encoding) {\n    if (this._finalized) throw new Error('Digest already called')\n    this._finalized = true\n\n    if (this._delimitedSuffix) this._state.absorbLastFewBits(this._delimitedSuffix)\n    let digest = this._state.squeeze(this._hashBitLength / 8)\n    if (encoding !== undefined) digest = digest.toString(encoding)\n\n    this._resetState()\n\n    return digest\n  }\n\n  // remove result from memory\n  Keccak.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  // because sometimes we need hash right now and little later\n  Keccak.prototype._clone = function () {\n    const clone = new Keccak(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Keccak\n}\n","'use strict'\nconst Buffer = require('safe-buffer').Buffer\nconst Transform = require('stream').Transform\nconst inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Shake (rate, capacity, delimitedSuffix, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Shake, Transform)\n\n  Shake.prototype._transform = function (chunk, encoding, callback) {\n    let error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Shake.prototype._flush = function () {}\n\n  Shake.prototype._read = function (size) {\n    this.push(this.squeeze(size))\n  }\n\n  Shake.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Squeeze already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Shake.prototype.squeeze = function (dataByteLength, encoding) {\n    if (!this._finalized) {\n      this._finalized = true\n      this._state.absorbLastFewBits(this._delimitedSuffix)\n    }\n\n    let data = this._state.squeeze(dataByteLength)\n    if (encoding !== undefined) data = data.toString(encoding)\n\n    return data\n  }\n\n  Shake.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  Shake.prototype._clone = function () {\n    const clone = new Shake(this._rate, this._capacity, this._delimitedSuffix, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Shake\n}\n","'use strict'\nconst Buffer = require('safe-buffer').Buffer\nconst keccakState = require('./keccak-state-unroll')\n\nfunction Keccak () {\n  // much faster than `new Array(50)`\n  this.state = [\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0\n  ]\n\n  this.blockSize = null\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.initialize = function (rate, capacity) {\n  for (let i = 0; i < 50; ++i) this.state[i] = 0\n  this.blockSize = rate / 8\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.absorb = function (data) {\n  for (let i = 0; i < data.length; ++i) {\n    this.state[~~(this.count / 4)] ^= data[i] << (8 * (this.count % 4))\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n}\n\nKeccak.prototype.absorbLastFewBits = function (bits) {\n  this.state[~~(this.count / 4)] ^= bits << (8 * (this.count % 4))\n  if ((bits & 0x80) !== 0 && this.count === (this.blockSize - 1)) keccakState.p1600(this.state)\n  this.state[~~((this.blockSize - 1) / 4)] ^= 0x80 << (8 * ((this.blockSize - 1) % 4))\n  keccakState.p1600(this.state)\n  this.count = 0\n  this.squeezing = true\n}\n\nKeccak.prototype.squeeze = function (length) {\n  if (!this.squeezing) this.absorbLastFewBits(0x01)\n\n  const output = Buffer.alloc(length)\n  for (var i = 0; i < length; ++i) {\n    output[i] = (this.state[~~(this.count / 4)] >>> (8 * (this.count % 4))) & 0xff\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n\n  return output\n}\n\nKeccak.prototype.copy = function (dest) {\n  for (let i = 0; i < 50; ++i) dest.state[i] = this.state[i]\n  dest.blockSize = this.blockSize\n  dest.count = this.count\n  dest.squeezing = this.squeezing\n}\n\nmodule.exports = Keccak\n","'use strict'\nconst P1600_ROUND_CONSTANTS = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648]\n\nexports.p1600 = function (s) {\n  for (let round = 0; round < 24; ++round) {\n    // theta\n    const lo0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40]\n    const hi0 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41]\n    const lo1 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42]\n    const hi1 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43]\n    const lo2 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44]\n    const hi2 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45]\n    const lo3 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46]\n    const hi3 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47]\n    const lo4 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48]\n    const hi4 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49]\n\n    let lo = lo4 ^ (lo1 << 1 | hi1 >>> 31)\n    let hi = hi4 ^ (hi1 << 1 | lo1 >>> 31)\n    const t1slo0 = s[0] ^ lo\n    const t1shi0 = s[1] ^ hi\n    const t1slo5 = s[10] ^ lo\n    const t1shi5 = s[11] ^ hi\n    const t1slo10 = s[20] ^ lo\n    const t1shi10 = s[21] ^ hi\n    const t1slo15 = s[30] ^ lo\n    const t1shi15 = s[31] ^ hi\n    const t1slo20 = s[40] ^ lo\n    const t1shi20 = s[41] ^ hi\n    lo = lo0 ^ (lo2 << 1 | hi2 >>> 31)\n    hi = hi0 ^ (hi2 << 1 | lo2 >>> 31)\n    const t1slo1 = s[2] ^ lo\n    const t1shi1 = s[3] ^ hi\n    const t1slo6 = s[12] ^ lo\n    const t1shi6 = s[13] ^ hi\n    const t1slo11 = s[22] ^ lo\n    const t1shi11 = s[23] ^ hi\n    const t1slo16 = s[32] ^ lo\n    const t1shi16 = s[33] ^ hi\n    const t1slo21 = s[42] ^ lo\n    const t1shi21 = s[43] ^ hi\n    lo = lo1 ^ (lo3 << 1 | hi3 >>> 31)\n    hi = hi1 ^ (hi3 << 1 | lo3 >>> 31)\n    const t1slo2 = s[4] ^ lo\n    const t1shi2 = s[5] ^ hi\n    const t1slo7 = s[14] ^ lo\n    const t1shi7 = s[15] ^ hi\n    const t1slo12 = s[24] ^ lo\n    const t1shi12 = s[25] ^ hi\n    const t1slo17 = s[34] ^ lo\n    const t1shi17 = s[35] ^ hi\n    const t1slo22 = s[44] ^ lo\n    const t1shi22 = s[45] ^ hi\n    lo = lo2 ^ (lo4 << 1 | hi4 >>> 31)\n    hi = hi2 ^ (hi4 << 1 | lo4 >>> 31)\n    const t1slo3 = s[6] ^ lo\n    const t1shi3 = s[7] ^ hi\n    const t1slo8 = s[16] ^ lo\n    const t1shi8 = s[17] ^ hi\n    const t1slo13 = s[26] ^ lo\n    const t1shi13 = s[27] ^ hi\n    const t1slo18 = s[36] ^ lo\n    const t1shi18 = s[37] ^ hi\n    const t1slo23 = s[46] ^ lo\n    const t1shi23 = s[47] ^ hi\n    lo = lo3 ^ (lo0 << 1 | hi0 >>> 31)\n    hi = hi3 ^ (hi0 << 1 | lo0 >>> 31)\n    const t1slo4 = s[8] ^ lo\n    const t1shi4 = s[9] ^ hi\n    const t1slo9 = s[18] ^ lo\n    const t1shi9 = s[19] ^ hi\n    const t1slo14 = s[28] ^ lo\n    const t1shi14 = s[29] ^ hi\n    const t1slo19 = s[38] ^ lo\n    const t1shi19 = s[39] ^ hi\n    const t1slo24 = s[48] ^ lo\n    const t1shi24 = s[49] ^ hi\n\n    // rho & pi\n    const t2slo0 = t1slo0\n    const t2shi0 = t1shi0\n    const t2slo16 = (t1shi5 << 4 | t1slo5 >>> 28)\n    const t2shi16 = (t1slo5 << 4 | t1shi5 >>> 28)\n    const t2slo7 = (t1slo10 << 3 | t1shi10 >>> 29)\n    const t2shi7 = (t1shi10 << 3 | t1slo10 >>> 29)\n    const t2slo23 = (t1shi15 << 9 | t1slo15 >>> 23)\n    const t2shi23 = (t1slo15 << 9 | t1shi15 >>> 23)\n    const t2slo14 = (t1slo20 << 18 | t1shi20 >>> 14)\n    const t2shi14 = (t1shi20 << 18 | t1slo20 >>> 14)\n    const t2slo10 = (t1slo1 << 1 | t1shi1 >>> 31)\n    const t2shi10 = (t1shi1 << 1 | t1slo1 >>> 31)\n    const t2slo1 = (t1shi6 << 12 | t1slo6 >>> 20)\n    const t2shi1 = (t1slo6 << 12 | t1shi6 >>> 20)\n    const t2slo17 = (t1slo11 << 10 | t1shi11 >>> 22)\n    const t2shi17 = (t1shi11 << 10 | t1slo11 >>> 22)\n    const t2slo8 = (t1shi16 << 13 | t1slo16 >>> 19)\n    const t2shi8 = (t1slo16 << 13 | t1shi16 >>> 19)\n    const t2slo24 = (t1slo21 << 2 | t1shi21 >>> 30)\n    const t2shi24 = (t1shi21 << 2 | t1slo21 >>> 30)\n    const t2slo20 = (t1shi2 << 30 | t1slo2 >>> 2)\n    const t2shi20 = (t1slo2 << 30 | t1shi2 >>> 2)\n    const t2slo11 = (t1slo7 << 6 | t1shi7 >>> 26)\n    const t2shi11 = (t1shi7 << 6 | t1slo7 >>> 26)\n    const t2slo2 = (t1shi12 << 11 | t1slo12 >>> 21)\n    const t2shi2 = (t1slo12 << 11 | t1shi12 >>> 21)\n    const t2slo18 = (t1slo17 << 15 | t1shi17 >>> 17)\n    const t2shi18 = (t1shi17 << 15 | t1slo17 >>> 17)\n    const t2slo9 = (t1shi22 << 29 | t1slo22 >>> 3)\n    const t2shi9 = (t1slo22 << 29 | t1shi22 >>> 3)\n    const t2slo5 = (t1slo3 << 28 | t1shi3 >>> 4)\n    const t2shi5 = (t1shi3 << 28 | t1slo3 >>> 4)\n    const t2slo21 = (t1shi8 << 23 | t1slo8 >>> 9)\n    const t2shi21 = (t1slo8 << 23 | t1shi8 >>> 9)\n    const t2slo12 = (t1slo13 << 25 | t1shi13 >>> 7)\n    const t2shi12 = (t1shi13 << 25 | t1slo13 >>> 7)\n    const t2slo3 = (t1slo18 << 21 | t1shi18 >>> 11)\n    const t2shi3 = (t1shi18 << 21 | t1slo18 >>> 11)\n    const t2slo19 = (t1shi23 << 24 | t1slo23 >>> 8)\n    const t2shi19 = (t1slo23 << 24 | t1shi23 >>> 8)\n    const t2slo15 = (t1slo4 << 27 | t1shi4 >>> 5)\n    const t2shi15 = (t1shi4 << 27 | t1slo4 >>> 5)\n    const t2slo6 = (t1slo9 << 20 | t1shi9 >>> 12)\n    const t2shi6 = (t1shi9 << 20 | t1slo9 >>> 12)\n    const t2slo22 = (t1shi14 << 7 | t1slo14 >>> 25)\n    const t2shi22 = (t1slo14 << 7 | t1shi14 >>> 25)\n    const t2slo13 = (t1slo19 << 8 | t1shi19 >>> 24)\n    const t2shi13 = (t1shi19 << 8 | t1slo19 >>> 24)\n    const t2slo4 = (t1slo24 << 14 | t1shi24 >>> 18)\n    const t2shi4 = (t1shi24 << 14 | t1slo24 >>> 18)\n\n    // chi\n    s[0] = t2slo0 ^ (~t2slo1 & t2slo2)\n    s[1] = t2shi0 ^ (~t2shi1 & t2shi2)\n    s[10] = t2slo5 ^ (~t2slo6 & t2slo7)\n    s[11] = t2shi5 ^ (~t2shi6 & t2shi7)\n    s[20] = t2slo10 ^ (~t2slo11 & t2slo12)\n    s[21] = t2shi10 ^ (~t2shi11 & t2shi12)\n    s[30] = t2slo15 ^ (~t2slo16 & t2slo17)\n    s[31] = t2shi15 ^ (~t2shi16 & t2shi17)\n    s[40] = t2slo20 ^ (~t2slo21 & t2slo22)\n    s[41] = t2shi20 ^ (~t2shi21 & t2shi22)\n    s[2] = t2slo1 ^ (~t2slo2 & t2slo3)\n    s[3] = t2shi1 ^ (~t2shi2 & t2shi3)\n    s[12] = t2slo6 ^ (~t2slo7 & t2slo8)\n    s[13] = t2shi6 ^ (~t2shi7 & t2shi8)\n    s[22] = t2slo11 ^ (~t2slo12 & t2slo13)\n    s[23] = t2shi11 ^ (~t2shi12 & t2shi13)\n    s[32] = t2slo16 ^ (~t2slo17 & t2slo18)\n    s[33] = t2shi16 ^ (~t2shi17 & t2shi18)\n    s[42] = t2slo21 ^ (~t2slo22 & t2slo23)\n    s[43] = t2shi21 ^ (~t2shi22 & t2shi23)\n    s[4] = t2slo2 ^ (~t2slo3 & t2slo4)\n    s[5] = t2shi2 ^ (~t2shi3 & t2shi4)\n    s[14] = t2slo7 ^ (~t2slo8 & t2slo9)\n    s[15] = t2shi7 ^ (~t2shi8 & t2shi9)\n    s[24] = t2slo12 ^ (~t2slo13 & t2slo14)\n    s[25] = t2shi12 ^ (~t2shi13 & t2shi14)\n    s[34] = t2slo17 ^ (~t2slo18 & t2slo19)\n    s[35] = t2shi17 ^ (~t2shi18 & t2shi19)\n    s[44] = t2slo22 ^ (~t2slo23 & t2slo24)\n    s[45] = t2shi22 ^ (~t2shi23 & t2shi24)\n    s[6] = t2slo3 ^ (~t2slo4 & t2slo0)\n    s[7] = t2shi3 ^ (~t2shi4 & t2shi0)\n    s[16] = t2slo8 ^ (~t2slo9 & t2slo5)\n    s[17] = t2shi8 ^ (~t2shi9 & t2shi5)\n    s[26] = t2slo13 ^ (~t2slo14 & t2slo10)\n    s[27] = t2shi13 ^ (~t2shi14 & t2shi10)\n    s[36] = t2slo18 ^ (~t2slo19 & t2slo15)\n    s[37] = t2shi18 ^ (~t2shi19 & t2shi15)\n    s[46] = t2slo23 ^ (~t2slo24 & t2slo20)\n    s[47] = t2shi23 ^ (~t2shi24 & t2shi20)\n    s[8] = t2slo4 ^ (~t2slo0 & t2slo1)\n    s[9] = t2shi4 ^ (~t2shi0 & t2shi1)\n    s[18] = t2slo9 ^ (~t2slo5 & t2slo6)\n    s[19] = t2shi9 ^ (~t2shi5 & t2shi6)\n    s[28] = t2slo14 ^ (~t2slo10 & t2slo11)\n    s[29] = t2shi14 ^ (~t2shi10 & t2shi11)\n    s[38] = t2slo19 ^ (~t2slo15 & t2slo16)\n    s[39] = t2shi19 ^ (~t2shi15 & t2shi16)\n    s[48] = t2slo24 ^ (~t2slo20 & t2slo21)\n    s[49] = t2shi24 ^ (~t2shi20 & t2shi21)\n\n    // iota\n    s[0] ^= P1600_ROUND_CONSTANTS[round * 2]\n    s[1] ^= P1600_ROUND_CONSTANTS[round * 2 + 1]\n  }\n}\n","// Extracted from https://github.com/ethereumjs/ethereumjs-abi and stripped out irrelevant code\n// Original code licensed under the MIT License - Copyright (c) 2015 Alex Beregszaszi\n\nconst util = require('./util')\nconst BN = require('bn.js')\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ parseInt(tmp[1], 10), parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string') {\n    if (util.isHexString(arg)) {\n      return new BN(util.stripHexPrefix(arg), 16)\n    } else {\n      return new BN(arg, 10)\n    }\n  } else if (type === 'number') {\n    return new BN(arg)\n  } else if (arg.toArray) {\n    // assume this is a BN for the moment, replace with BN.isBN soon\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', new Buffer(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = new Buffer(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, util.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return util.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return num.toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    return num.toTwos(256).toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num.mul(new BN(2).pow(new BN(size[1]))))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nfunction rawEncode (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 32 * types.length\n\n  for (var i in types) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nfunction solidityPack (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var size, num\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n\n    if (type === 'bytes') {\n      ret.push(value)\n    } else if (type === 'string') {\n      ret.push(new Buffer(value, 'utf8'))\n    } else if (type === 'bool') {\n      ret.push(new Buffer(value ? '01' : '00', 'hex'))\n    } else if (type === 'address') {\n      ret.push(util.setLength(value, 20))\n    } else if (type.startsWith('bytes')) {\n      size = parseTypeN(type)\n      if (size < 1 || size > 32) {\n        throw new Error('Invalid bytes<N> width: ' + size)\n      }\n\n      ret.push(util.setLengthRight(value, size))\n    } else if (type.startsWith('uint')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid uint<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toArrayLike(Buffer, 'be', size / 8))\n    } else if (type.startsWith('int')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid int<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toTwos(size).toArrayLike(Buffer, 'be', size / 8))\n    } else {\n      // FIXME: support all other types\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n\n  return Buffer.concat(ret)\n}\n\nfunction soliditySHA3 (types, values) {\n  return util.keccak(solidityPack(types, values))\n}\n\nmodule.exports = {\n  rawEncode,\n  solidityPack,\n  soliditySHA3\n}\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = require(\"./types/common\");\nconst util_1 = require(\"./util\");\nconst TIMEOUT = 5 * 60 * 1000; // 5 minutes\nconst JSONRPC_TEMPLATE = {\n    jsonrpc: \"2.0\",\n    id: 0\n};\nclass FilterPolyfill {\n    constructor(provider) {\n        this.logFilters = new Map(); // <id, filter>\n        this.blockFilters = new Set(); // <id>\n        this.pendingTransactionFilters = new Set(); // <id, true>\n        this.cursors = new Map(); // <id, cursor>\n        this.timeouts = new Map(); // <id, setTimeout id>\n        this.nextFilterId = common_1.IntNumber(1);\n        this.provider = provider;\n    }\n    async newFilter(param) {\n        const filter = filterFromParam(param);\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, filter.fromBlock);\n        console.log(`Installing new log filter(${id}):`, filter, \"initial cursor position:\", cursor);\n        this.logFilters.set(id, filter);\n        this.setFilterTimeout(id);\n        return util_1.hexStringFromIntNumber(id);\n    }\n    async newBlockFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.blockFilters.add(id);\n        this.setFilterTimeout(id);\n        return util_1.hexStringFromIntNumber(id);\n    }\n    async newPendingTransactionFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.pendingTransactionFilters.add(id);\n        this.setFilterTimeout(id);\n        return util_1.hexStringFromIntNumber(id);\n    }\n    uninstallFilter(filterId) {\n        const id = util_1.intNumberFromHexString(filterId);\n        console.log(`Uninstalling filter (${id})`);\n        this.deleteFilter(id);\n        return true;\n    }\n    getFilterChanges(filterId) {\n        const id = util_1.intNumberFromHexString(filterId);\n        if (this.timeouts.has(id)) {\n            // extend timeout\n            this.setFilterTimeout(id);\n        }\n        if (this.logFilters.has(id)) {\n            return this.getLogFilterChanges(id);\n        }\n        else if (this.blockFilters.has(id)) {\n            return this.getBlockFilterChanges(id);\n        }\n        else if (this.pendingTransactionFilters.has(id)) {\n            return this.getPendingTransactionFilterChanges(id);\n        }\n        return Promise.resolve(filterNotFoundError());\n    }\n    async getFilterLogs(filterId) {\n        const id = util_1.intNumberFromHexString(filterId);\n        const filter = this.logFilters.get(id);\n        if (!filter) {\n            return filterNotFoundError();\n        }\n        return this.sendAsyncPromise(Object.assign({}, JSONRPC_TEMPLATE, { method: \"eth_getLogs\", params: [paramFromFilter(filter)] }));\n    }\n    makeFilterId() {\n        return common_1.IntNumber(++this.nextFilterId);\n    }\n    sendAsyncPromise(request) {\n        return new Promise((resolve, reject) => {\n            this.provider.sendAsync(request, (err, response) => {\n                if (err) {\n                    return reject(err);\n                }\n                if (Array.isArray(response) || response == null) {\n                    return reject(new Error(`unexpected response received: ${JSON.stringify(response)}`));\n                }\n                resolve(response);\n            });\n        });\n    }\n    deleteFilter(id) {\n        console.log(`Deleting filter (${id})`);\n        this.logFilters.delete(id);\n        this.blockFilters.delete(id);\n        this.pendingTransactionFilters.delete(id);\n        this.cursors.delete(id);\n        this.timeouts.delete(id);\n    }\n    async getLogFilterChanges(id) {\n        const filter = this.logFilters.get(id);\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition || !filter) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const toBlock = filter.toBlock === \"latest\" ? currentBlockHeight : filter.toBlock;\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        if (cursorPosition > filter.toBlock) {\n            return emptyResult();\n        }\n        console.log(`Fetching logs from ${cursorPosition} to ${toBlock} for filter ${id}`);\n        const response = await this.sendAsyncPromise(Object.assign({}, JSONRPC_TEMPLATE, { method: \"eth_getLogs\", params: [\n                paramFromFilter(Object.assign({}, filter, { fromBlock: cursorPosition, toBlock }))\n            ] }));\n        if (Array.isArray(response.result)) {\n            const blocks = response.result.map(log => util_1.intNumberFromHexString(log.blockNumber || \"0x0\"));\n            const highestBlock = Math.max(...blocks);\n            if (highestBlock && highestBlock > cursorPosition) {\n                const newCursorPosition = common_1.IntNumber(highestBlock + 1);\n                console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n                this.cursors.set(id, newCursorPosition);\n            }\n        }\n        return response;\n    }\n    async getBlockFilterChanges(id) {\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        console.log(`Fetching blocks from ${cursorPosition} to ${currentBlockHeight} for filter (${id})`);\n        const blocks = (await Promise.all(util_1.range(cursorPosition, currentBlockHeight + 1).map(i => this.getBlockHashByNumber(common_1.IntNumber(i))))).filter(hash => !!hash);\n        const newCursorPosition = common_1.IntNumber(cursorPosition + blocks.length);\n        console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n        this.cursors.set(id, newCursorPosition);\n        return Object.assign({}, JSONRPC_TEMPLATE, { result: blocks });\n    }\n    async getPendingTransactionFilterChanges(_id) {\n        // pending transaction filters are not supported\n        return Promise.resolve(emptyResult());\n    }\n    async setInitialCursorPosition(id, startBlock) {\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const initialCursorPosition = typeof startBlock === \"number\" && startBlock > currentBlockHeight\n            ? startBlock\n            : currentBlockHeight;\n        this.cursors.set(id, initialCursorPosition);\n        return initialCursorPosition;\n    }\n    setFilterTimeout(id) {\n        const existing = this.timeouts.get(id);\n        if (existing) {\n            window.clearTimeout(existing);\n        }\n        const timeout = window.setTimeout(() => {\n            console.log(`Filter (${id}) timed out`);\n            this.deleteFilter(id);\n        }, TIMEOUT);\n        this.timeouts.set(id, timeout);\n    }\n    async getCurrentBlockHeight() {\n        const { result } = await this.sendAsyncPromise(Object.assign({}, JSONRPC_TEMPLATE, { method: \"eth_blockNumber\", params: [] }));\n        return util_1.intNumberFromHexString(util_1.ensureHexString(result));\n    }\n    async getBlockHashByNumber(blockNumber) {\n        const response = await this.sendAsyncPromise(Object.assign({}, JSONRPC_TEMPLATE, { method: \"eth_getBlockByNumber\", params: [util_1.hexStringFromIntNumber(blockNumber), false] }));\n        if (response.result && typeof response.result.hash === \"string\") {\n            return util_1.ensureHexString(response.result.hash);\n        }\n        return null;\n    }\n}\nexports.FilterPolyfill = FilterPolyfill;\nfunction filterFromParam(param) {\n    return {\n        fromBlock: intBlockHeightFromHexBlockHeight(param.fromBlock),\n        toBlock: intBlockHeightFromHexBlockHeight(param.toBlock),\n        addresses: param.address === undefined\n            ? null\n            : Array.isArray(param.address)\n                ? param.address\n                : [param.address],\n        topics: param.topics || []\n    };\n}\nexports.filterFromParam = filterFromParam;\nfunction paramFromFilter(filter) {\n    const param = {\n        fromBlock: hexBlockHeightFromIntBlockHeight(filter.fromBlock),\n        toBlock: hexBlockHeightFromIntBlockHeight(filter.toBlock),\n        topics: filter.topics\n    };\n    if (filter.addresses !== null) {\n        param.address = filter.addresses;\n    }\n    return param;\n}\nfunction intBlockHeightFromHexBlockHeight(value) {\n    if (value === undefined || value === \"latest\" || value === \"pending\") {\n        return \"latest\";\n    }\n    else if (value === \"earliest\") {\n        return common_1.IntNumber(0);\n    }\n    else if (util_1.isHexString(value)) {\n        return util_1.intNumberFromHexString(value);\n    }\n    throw new Error(`Invalid block option: ${value}`);\n}\nfunction hexBlockHeightFromIntBlockHeight(value) {\n    if (value === \"latest\") {\n        return value;\n    }\n    return util_1.hexStringFromIntNumber(value);\n}\nfunction filterNotFoundError() {\n    return Object.assign({}, JSONRPC_TEMPLATE, { error: { code: -32000, message: \"filter not found\" } });\n}\nfunction emptyResult() {\n    return Object.assign({}, JSONRPC_TEMPLATE, { result: [] });\n}\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar JSONRPCMethod;\n(function (JSONRPCMethod) {\n    // synchronous or asynchronous\n    JSONRPCMethod[\"eth_accounts\"] = \"eth_accounts\";\n    JSONRPCMethod[\"eth_coinbase\"] = \"eth_coinbase\";\n    JSONRPCMethod[\"net_version\"] = \"net_version\";\n    JSONRPCMethod[\"eth_uninstallFilter\"] = \"eth_uninstallFilter\";\n    // asynchronous only\n    JSONRPCMethod[\"eth_requestAccounts\"] = \"eth_requestAccounts\";\n    JSONRPCMethod[\"eth_sign\"] = \"eth_sign\";\n    JSONRPCMethod[\"eth_ecRecover\"] = \"eth_ecRecover\";\n    JSONRPCMethod[\"personal_sign\"] = \"personal_sign\";\n    JSONRPCMethod[\"personal_ecRecover\"] = \"personal_ecRecover\";\n    JSONRPCMethod[\"eth_signTransaction\"] = \"eth_signTransaction\";\n    JSONRPCMethod[\"eth_sendRawTransaction\"] = \"eth_sendRawTransaction\";\n    JSONRPCMethod[\"eth_sendTransaction\"] = \"eth_sendTransaction\";\n    JSONRPCMethod[\"eth_signTypedData_v1\"] = \"eth_signTypedData_v1\";\n    JSONRPCMethod[\"eth_signTypedData_v2\"] = \"eth_signTypedData_v2\";\n    JSONRPCMethod[\"eth_signTypedData_v3\"] = \"eth_signTypedData_v3\";\n    JSONRPCMethod[\"eth_signTypedData_v4\"] = \"eth_signTypedData_v4\";\n    JSONRPCMethod[\"eth_signTypedData\"] = \"eth_signTypedData\";\n    JSONRPCMethod[\"walletlink_arbitrary\"] = \"walletlink_arbitrary\";\n    // asynchronous filter methods\n    JSONRPCMethod[\"eth_newFilter\"] = \"eth_newFilter\";\n    JSONRPCMethod[\"eth_newBlockFilter\"] = \"eth_newBlockFilter\";\n    JSONRPCMethod[\"eth_newPendingTransactionFilter\"] = \"eth_newPendingTransactionFilter\";\n    JSONRPCMethod[\"eth_getFilterChanges\"] = \"eth_getFilterChanges\";\n    JSONRPCMethod[\"eth_getFilterLogs\"] = \"eth_getFilterLogs\";\n})(JSONRPCMethod = exports.JSONRPCMethod || (exports.JSONRPCMethod = {}));\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProviderErrorCode;\n(function (ProviderErrorCode) {\n    ProviderErrorCode[ProviderErrorCode[\"USER_DENIED_REQUEST_ACCOUNTS\"] = 4001] = \"USER_DENIED_REQUEST_ACCOUNTS\";\n    ProviderErrorCode[ProviderErrorCode[\"USER_DENIED_CREATE_ACCOUNT\"] = 4010] = \"USER_DENIED_CREATE_ACCOUNT\";\n    ProviderErrorCode[ProviderErrorCode[\"UNAUTHORIZED\"] = 4100] = \"UNAUTHORIZED\";\n    ProviderErrorCode[ProviderErrorCode[\"UNSUPPORTED_METHOD\"] = 4200] = \"UNSUPPORTED_METHOD\";\n    ProviderErrorCode[ProviderErrorCode[\"USER_DENIED_REQUEST_SIGNATURE\"] = -32603] = \"USER_DENIED_REQUEST_SIGNATURE\";\n})(ProviderErrorCode = exports.ProviderErrorCode || (exports.ProviderErrorCode = {}));\nclass ProviderError extends Error {\n    constructor(message, code, data) {\n        super(message || \"Provider Error\");\n        this.code = code;\n        this.data = data;\n        this.name = \"ProviderError\";\n        Object.setPrototypeOf(this, ProviderError.prototype);\n    }\n}\nexports.ProviderError = ProviderError;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bind_decorator_1 = __importDefault(require(\"bind-decorator\"));\nconst crypto_1 = __importDefault(require(\"crypto\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst ScopedLocalStorage_1 = require(\"./ScopedLocalStorage\");\nconst LinkedMessage_1 = require(\"./types/LinkedMessage\");\nconst LocalStorageBlockedMessage_1 = require(\"./types/LocalStorageBlockedMessage\");\nconst SessionIdRequestMessage_1 = require(\"./types/SessionIdRequestMessage\");\nconst SessionIdResponseMessage_1 = require(\"./types/SessionIdResponseMessage\");\nconst UnlinkedMessage_1 = require(\"./types/UnlinkedMessage\");\nconst Web3Method_1 = require(\"./types/Web3Method\");\nconst Web3RequestCanceledMessage_1 = require(\"./types/Web3RequestCanceledMessage\");\nconst Web3RequestMessage_1 = require(\"./types/Web3RequestMessage\");\nconst Web3Response_1 = require(\"./types/Web3Response\");\nconst Web3ResponseMessage_1 = require(\"./types/Web3ResponseMessage\");\nconst util_1 = require(\"./util\");\nconst walletLinkBlockedDialog = __importStar(require(\"./walletLinkBlockedDialog\"));\nconst WalletLinkNotification_1 = require(\"./WalletLinkNotification\");\nconst LOCAL_STORAGE_SESSION_ID_KEY = \"SessionId\";\nconst BLOCKED_LOCAL_STORAGE_ERROR_MESSAGE = \"Browser is blocking third-party localStorage usage. To continue, \" +\n    \"turn off third-party storage blocking or whitelist WalletLink.\";\nclass WalletLinkRelay {\n    constructor(options) {\n        this.iframeEl = null;\n        this.popupUrl = null;\n        this.popupWindow = null;\n        this.sessionId = null;\n        this.appName = \"\";\n        this.appLogoUrl = null;\n        this.linked = false;\n        this.iframeLoaded = false;\n        this.localStorageBlocked = false;\n        this.actionsPendingIframeLoad = [];\n        this.actionsPendingSessionId = [];\n        this.walletLinkUrl = options.walletLinkUrl;\n        const u = url_1.default.parse(this.walletLinkUrl);\n        this.walletLinkOrigin = `${u.protocol}//${u.host}`;\n        this.storage = new ScopedLocalStorage_1.ScopedLocalStorage(`__WalletLink__:${this.walletLinkOrigin}`);\n        this.sessionId = this.getStorageItem(LOCAL_STORAGE_SESSION_ID_KEY) || null;\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this.appName = appName;\n        this.appLogoUrl = appLogoUrl;\n    }\n    injectIframe() {\n        if (this.iframeEl) {\n            throw new Error(\"iframe already injected!\");\n        }\n        const iframeEl = document.createElement(\"iframe\");\n        iframeEl.className = \"_WalletLinkBridge\";\n        iframeEl.width = \"1\";\n        iframeEl.height = \"1\";\n        iframeEl.style.opacity = \"0\";\n        iframeEl.style.pointerEvents = \"none\";\n        iframeEl.style.position = \"absolute\";\n        iframeEl.style.top = \"0\";\n        iframeEl.style.right = \"0\";\n        iframeEl.setAttribute(\"sandbox\", \"allow-scripts allow-popups allow-same-origin\");\n        iframeEl.src = `${this.walletLinkUrl}/#/bridge`;\n        this.iframeEl = iframeEl;\n        window.addEventListener(\"message\", this.handleMessage, false);\n        window.addEventListener(\"beforeunload\", this.handleBeforeUnload, false);\n        const onIframeLoad = () => {\n            this.iframeLoaded = true;\n            iframeEl.removeEventListener(\"load\", onIframeLoad, false);\n            this.postIPCMessage(SessionIdRequestMessage_1.SessionIdRequestMessage());\n            this.actionsPendingIframeLoad.forEach(action => action());\n            this.actionsPendingIframeLoad = [];\n        };\n        iframeEl.addEventListener(\"load\", onIframeLoad, false);\n        document.documentElement.appendChild(iframeEl);\n    }\n    getStorageItem(key) {\n        return this.storage.getItem(key);\n    }\n    setStorageItem(key, value) {\n        this.storage.setItem(key, value);\n    }\n    requestEthereumAccounts() {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.requestEthereumAccounts,\n            params: {\n                appName: this.appName,\n                appLogoUrl: this.appLogoUrl || null\n            }\n        });\n    }\n    signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumMessage,\n            params: {\n                message: util_1.hexStringFromBuffer(message, true),\n                address,\n                addPrefix,\n                typedDataJson: typedDataJson || null\n            }\n        });\n    }\n    ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n            params: {\n                message: util_1.hexStringFromBuffer(message, true),\n                signature: util_1.hexStringFromBuffer(signature, true),\n                addPrefix\n            }\n        });\n    }\n    signEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: util_1.bigIntStringFromBN(params.weiValue),\n                data: util_1.hexStringFromBuffer(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? util_1.bigIntStringFromBN(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? util_1.bigIntStringFromBN(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: false\n            }\n        });\n    }\n    signAndSubmitEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: util_1.bigIntStringFromBN(params.weiValue),\n                data: util_1.hexStringFromBuffer(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? util_1.bigIntStringFromBN(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? util_1.bigIntStringFromBN(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: true\n            }\n        });\n    }\n    submitEthereumTransaction(signedTransaction, chainId) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.submitEthereumTransaction,\n            params: {\n                signedTransaction: util_1.hexStringFromBuffer(signedTransaction, true),\n                chainId\n            }\n        });\n    }\n    scanQRCode(regExp) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.scanQRCode,\n            params: { regExp }\n        });\n    }\n    arbitraryRequest(data) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.arbitrary,\n            params: { data }\n        });\n    }\n    sendRequest(request) {\n        if (this.localStorageBlocked) {\n            walletLinkBlockedDialog.show();\n            return Promise.reject(new Error(BLOCKED_LOCAL_STORAGE_ERROR_MESSAGE));\n        }\n        return new Promise((resolve, reject) => {\n            if (!this.iframeEl || !this.iframeEl.contentWindow) {\n                return reject(\"iframe is not initialized\");\n            }\n            const id = crypto_1.default.randomBytes(8).toString(\"hex\");\n            const cancel = () => {\n                this.postIPCMessage(Web3RequestCanceledMessage_1.Web3RequestCanceledMessage(id));\n                this.invokeCallback(Web3ResponseMessage_1.Web3ResponseMessage({\n                    id,\n                    response: Web3Response_1.ErrorResponse(request.method, \"User rejected request\")\n                }));\n                if (notification) {\n                    notification.hide();\n                }\n            };\n            const reset = () => {\n                this.openPopupWindow(\"/reset\");\n                if (notification) {\n                    notification.hide();\n                }\n            };\n            const options = {\n                showProgressBar: true,\n                autoExpandAfter: 10000,\n                buttonInfo2: \"Made a mistake?\",\n                buttonLabel2: \"Cancel\",\n                onClickButton2: cancel\n            };\n            const isRequestAccounts = request.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n            if (!this.linked && isRequestAccounts) {\n                const showPopup = () => {\n                    this.openPopupWindow(`/link?id=${this.sessionId}`);\n                };\n                showPopup();\n                options.message = \"Requesting to connect to your wallet...\";\n                options.buttonInfo1 = \"Dont see the popup?\";\n                options.buttonLabel1 = \"Show window\";\n                options.onClickButton1 = showPopup;\n            }\n            else {\n                options.message = \"Pushed a request to your wallet...\";\n                options.buttonInfo3 = \"Not receiving requests?\";\n                options.buttonLabel3 = \"Reconnect\";\n                options.onClickButton3 = reset;\n            }\n            if (isRequestAccounts) {\n                WalletLinkRelay.accountRequestCallbackIds.add(id);\n            }\n            WalletLinkRelay.callbacks.set(id, response => {\n                this.closePopupWindow();\n                if (notification) {\n                    notification.hide();\n                }\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const notification = new WalletLinkNotification_1.WalletLinkNotification(options);\n            notification.show();\n            this.postIPCMessage(Web3RequestMessage_1.Web3RequestMessage({ id, request }));\n        });\n    }\n    postIPCMessage(message) {\n        if (!this.iframeLoaded) {\n            this.actionsPendingIframeLoad.push(() => {\n                this.postIPCMessage(message);\n            });\n            return;\n        }\n        if (this.iframeEl && this.iframeEl.contentWindow) {\n            this.iframeEl.contentWindow.postMessage(message, this.walletLinkOrigin);\n        }\n    }\n    openPopupWindow(path) {\n        if (!this.sessionId) {\n            this.actionsPendingSessionId.push(() => {\n                this.openPopupWindow(path);\n            });\n            return;\n        }\n        const popupUrl = `${this.walletLinkUrl}/#${path}`;\n        if (this.popupWindow && this.popupWindow.opener) {\n            if (this.popupUrl !== popupUrl) {\n                this.popupWindow.location.href = popupUrl;\n                this.popupUrl = popupUrl;\n            }\n            this.popupWindow.focus();\n            return;\n        }\n        const width = 320;\n        const height = 520;\n        const left = Math.floor(window.outerWidth / 2 - width / 2 + window.screenX);\n        const top = Math.floor(window.outerHeight / 2 - height / 2 + window.screenY);\n        this.popupUrl = popupUrl;\n        this.popupWindow = window.open(popupUrl, \"_blank\", [\n            `width=${width}`,\n            `height=${height}`,\n            `left=${left}`,\n            `top=${top}`,\n            \"location=yes\",\n            \"menubar=no\",\n            \"resizable=no\",\n            \"status=no\",\n            \"titlebar=yes\",\n            \"toolbar=no\"\n        ].join(\",\"));\n    }\n    closePopupWindow() {\n        if (this.popupWindow) {\n            this.popupWindow.close();\n            this.popupUrl = null;\n            this.popupWindow = null;\n        }\n        window.focus();\n    }\n    invokeCallback(message) {\n        const callback = WalletLinkRelay.callbacks.get(message.id);\n        if (callback) {\n            callback(message.response);\n            WalletLinkRelay.callbacks.delete(message.id);\n        }\n    }\n    resetAndReload() {\n        this.storage.clear();\n        document.location.reload();\n    }\n    handleMessage(evt) {\n        if (evt.origin !== this.walletLinkOrigin) {\n            return;\n        }\n        const message = evt.data;\n        if (Web3ResponseMessage_1.isWeb3ResponseMessage(message)) {\n            const { response } = message;\n            if (Web3Response_1.isRequestEthereumAccountsResponse(response)) {\n                Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => this.invokeCallback(Object.assign({}, message, { id })));\n                WalletLinkRelay.accountRequestCallbackIds.clear();\n                return;\n            }\n            this.invokeCallback(message);\n            return;\n        }\n        if (SessionIdResponseMessage_1.isSessionIdResponseMessage(message)) {\n            const { sessionId } = message;\n            if (this.sessionId !== null && this.sessionId !== sessionId) {\n                // sessionId changed, clear all local data and reload page\n                this.resetAndReload();\n                return;\n            }\n            this.sessionId = sessionId;\n            this.setStorageItem(LOCAL_STORAGE_SESSION_ID_KEY, sessionId);\n            this.actionsPendingSessionId.forEach(action => action());\n            this.actionsPendingSessionId = [];\n            return;\n        }\n        if (LinkedMessage_1.isLinkedMessage(message)) {\n            this.linked = true;\n            return;\n        }\n        if (UnlinkedMessage_1.isUnlinkedMessage(message)) {\n            this.linked = false;\n            this.resetAndReload();\n            return;\n        }\n        if (LocalStorageBlockedMessage_1.isLocalStorageBlockedMessage(message)) {\n            this.localStorageBlocked = true;\n            if (WalletLinkRelay.accountRequestCallbackIds.size > 0 &&\n                this.popupWindow) {\n                Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => this.invokeCallback(Web3ResponseMessage_1.Web3ResponseMessage({\n                    id,\n                    response: Web3Response_1.ErrorResponse(Web3Method_1.Web3Method.requestEthereumAccounts, BLOCKED_LOCAL_STORAGE_ERROR_MESSAGE)\n                })));\n                WalletLinkRelay.accountRequestCallbackIds.clear();\n                walletLinkBlockedDialog.show();\n                this.closePopupWindow();\n            }\n            return;\n        }\n    }\n    handleBeforeUnload(_evt) {\n        this.closePopupWindow();\n    }\n}\nWalletLinkRelay.callbacks = new Map();\nWalletLinkRelay.accountRequestCallbackIds = new Set();\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"handleMessage\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"handleBeforeUnload\", null);\nexports.WalletLinkRelay = WalletLinkRelay;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ScopedLocalStorage {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    setItem(key, value) {\n        localStorage.setItem(this.scopedKey(key), value);\n    }\n    getItem(key) {\n        return localStorage.getItem(this.scopedKey(key));\n    }\n    removeItem(key) {\n        localStorage.removeItem(this.scopedKey(key));\n    }\n    clear() {\n        const prefix = this.scopedKey(\"\");\n        const keysToRemove = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (typeof key === \"string\" && key.startsWith(prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach(key => localStorage.removeItem(key));\n    }\n    scopedKey(key) {\n        return `${this.scope}:${key}`;\n    }\n}\nexports.ScopedLocalStorage = ScopedLocalStorage;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst IPCMessage_1 = require(\"./IPCMessage\");\nfunction isLinkedMessage(msg) {\n    return msg && msg.type === IPCMessage_1.IPCMessageType.LINKED;\n}\nexports.isLinkedMessage = isLinkedMessage;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst IPCMessage_1 = require(\"./IPCMessage\");\nfunction isLocalStorageBlockedMessage(msg) {\n    return msg && msg.type === IPCMessage_1.IPCMessageType.LOCAL_STORAGE_BLOCKED;\n}\nexports.isLocalStorageBlockedMessage = isLocalStorageBlockedMessage;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst IPCMessage_1 = require(\"./IPCMessage\");\nfunction SessionIdRequestMessage() {\n    return { type: IPCMessage_1.IPCMessageType.SESSION_ID_REQUEST };\n}\nexports.SessionIdRequestMessage = SessionIdRequestMessage;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst IPCMessage_1 = require(\"./IPCMessage\");\nfunction isSessionIdResponseMessage(msg) {\n    return msg && msg.type === IPCMessage_1.IPCMessageType.SESSION_ID_RESPONSE;\n}\nexports.isSessionIdResponseMessage = isSessionIdResponseMessage;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst IPCMessage_1 = require(\"./IPCMessage\");\nfunction isUnlinkedMessage(msg) {\n    return msg && msg.type === IPCMessage_1.IPCMessageType.UNLINKED;\n}\nexports.isUnlinkedMessage = isUnlinkedMessage;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst IPCMessage_1 = require(\"./IPCMessage\");\nfunction Web3RequestCanceledMessage(id) {\n    return { type: IPCMessage_1.IPCMessageType.WEB3_REQUEST_CANCELED, id };\n}\nexports.Web3RequestCanceledMessage = Web3RequestCanceledMessage;\n","\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst IPCMessage_1 = require(\"./IPCMessage\");\nfunction Web3RequestMessage(params) {\n    return Object.assign({ type: IPCMessage_1.IPCMessageType.WEB3_REQUEST }, params);\n}\nexports.Web3RequestMessage = Web3RequestMessage;\n"],"sourceRoot":""}